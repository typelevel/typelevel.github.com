<!DOCTYPE html>
<html lang="en" data-bulma-theme="light">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" href="../img/favicon.ico" sizes="32x32">
  <link rel="icon" href="../img/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="../img/apple-touch-icon.png">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">

  

  <link rel="stylesheet" href="../main.css">
  <link rel="stylesheet" href="../css/code.css">
  <script src="../main.js"></script>

  <title>Using scalaz.Unapply</title>
</head>

<body class="bulma-is-flex bulma-is-flex-direction-column">
  <nav class="bulma-navbar" role="navigation" aria-label="main navigation">
  <div class="bulma-navbar-brand">
    <a class="bulma-navbar-item" href="../">
      <img src="../img/logo.svg" />
    </a>

    <a role="button" class="bulma-navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu"
      onClick="handleBurgerClick(this)">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="bulma-navbar-menu" id="navMenu">
    <div class="bulma-navbar-start">

    </div>
    <div class="bulma-navbar-end">
      <!-- <div class="bulma-navbar-item"><a class="bulma-button bulma-is-rounded bulma-is-primary bulma-has-text-light">Get Started</a></div> -->
      <!-- <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text">Learn</a></div> -->
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../projects/">Projects</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../community/">Community</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../foundation/">Foundation</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="index.html">Blog</a></div>
      <div class="bulma-navbar-item">
        <a id="search-top-bar" class="bulma-button bulma-is-text" aria-label="Search" onclick="showSearchModal()">
          <span class="bulma-icon bulma-is-small bulma-is-size-6">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
          </span>
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Search Modal -->
<div id="search-modal" class="bulma-modal bulma-is-justify-content-flex-start bulma-pt-6 bulma-pb-6">
  <div class="bulma-modal-background bulma-is-align-items-flex-start" onclick="hideSearchModal()"></div>
  <div class="bulma-modal-card">
    <header class="bulma-modal-card-head">
      <p class="bulma-control bulma-has-icons-left bulma-is-flex-grow-1">
        <input id="search-input" class="bulma-input bulma-is-medium bulma-is-primary" type="search" autocomplete="off" oninput="onSearchInput(event)">
        <span class="bulma-icon bulma-is-left bulma-has-text-primary">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
        </span>
      </p>
    </header>
    <section id="search-results" class="bulma-modal-card-body">
    </section>
    <footer class="bulma-modal-card-foot bulma-is-justify-content-space-between">
      <span class="bulma-has-text-grey bulma-is-size-7">
        <kbd class="bulma-tag">/</kbd> to open search &nbsp;
        <kbd class="bulma-tag">Esc</kbd> to close
      </span>
    </footer>
  </div>
</div>

  <main class="bulma-is-flex-grow-1">
    
<section class="bulma-hero bulma-is-primary bulma-is-bold">
  <div class="bulma-hero-body bulma-container bulma-is-max-desktop">
    <p class="bulma-title bulma-has-text-light">Using scalaz.Unapply</p>
    <p class="blog-post-byline bulma-has-text-light bulma-subtitle">
      by
      
        Stephen Compall<span class="delimiter">,</span><span class="last-delimiter"> &</span>
      
      on September 11, 2013
    </p>
     
      <span class="bulma-tag">technical</span>
     
  </div>
</section>
<div class="bulma-section bulma-container bulma-is-max-desktop">
  <div class="blog-post bulma-content">
    <h1 id="using-scalaz-unapply" class="title">Using scalaz.Unapply</h1>
    <p>Once you&#39;ve started really taking advantage of Scalaz&#39;s typeclasses
    for generic programming, you might have noticed a need to write
    typelambdas to use some of your neat abstractions, or use syntax like
    <code>traverse</code> or <code>kleisli</code> with a strangely-shaped type as an argument.
    Here&#39;s a simple generalization, a <code>List</code>-based <code>traverse</code>.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Applicative</span><span>, </span><span class="identifier">scalaz</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">applicative</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">def</span><span> </span><span class="declaration-name">sequenceList</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Applicative</span><span>, </span><span class="type-name">A</span><span>](</span><span class="identifier">xs</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">F</span><span>[</span><span class="type-name">A</span><span>]]): </span><span class="type-name">F</span><span>[</span><span class="type-name">List</span><span>[</span><span class="type-name">A</span><span>]] =
  </span><span class="identifier">xs</span><span>.</span><span class="identifier">foldRight</span><span>(</span><span class="type-name">List</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">A</span><span>].</span><span class="identifier">point</span><span>[</span><span class="type-name">F</span><span>])((</span><span class="identifier">a</span><span>, </span><span class="identifier">b</span><span>) =&gt; ^(</span><span class="identifier">a</span><span>, </span><span class="identifier">b</span><span>)(</span><span class="identifier">_</span><span> :: </span><span class="identifier">_</span><span>))</span></code></pre>
    <p>This works fine for a while.</p>
    <pre><code class="nohighlight"><span class="identifier">scala</span><span>&gt; </span><span class="keyword">import</span><span> </span><span class="identifier">scalaz</span><span>.</span><span class="identifier">std</span><span>.</span><span class="identifier">option</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">scalaz</span><span>.</span><span class="identifier">std</span><span>.</span><span class="identifier">option</span><span>.</span><span class="identifier">_</span><span>

</span><span class="identifier">scala</span><span>&gt; </span><span class="identifier">sequenceList</span><span>(</span><span class="type-name">List</span><span>(</span><span class="identifier">some</span><span>(</span><span class="number-literal">1</span><span>),</span><span class="identifier">some</span><span>(</span><span class="number-literal">2</span><span>)))
</span><span class="identifier">res1</span><span>: </span><span class="type-name">Option</span><span>[</span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]] = </span><span class="type-name">Some</span><span>(</span><span class="type-name">List</span><span>(</span><span class="number-literal">1</span><span>, </span><span class="number-literal">2</span><span>))

</span><span class="identifier">scala</span><span>&gt; </span><span class="identifier">sequenceList</span><span>(</span><span class="type-name">List</span><span>(</span><span class="identifier">some</span><span>(</span><span class="number-literal">1</span><span>),</span><span class="identifier">none</span><span>))
</span><span class="identifier">res2</span><span>: </span><span class="type-name">Option</span><span>[</span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]] = </span><span class="type-name">None</span></code></pre>
    
    <h2 id="the-problem" class="section"><a class="anchor-link" href="#the-problem"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>The problem</h2>
    <p>The type of the input in the above example, <code>List[Option[Int]]</code>, can be
    neatly destructured into the <code>F</code> and <code>A</code> type params needed by
    <code>sequenceList</code>.  It has the “shape” <code>F[x]</code>, so <code>F</code> can be picked out by
    Scala easily.</p>
    <p>Consider something else with a convenient <code>Applicative</code> instance,
    though.</p>
    <pre><code class="nohighlight"><span class="identifier">scala</span><span>&gt; </span><span class="keyword">import</span><span> </span><span class="identifier">scalaz</span><span>.\/
</span><span class="keyword">import</span><span> </span><span class="identifier">scalaz</span><span>.</span><span class="identifier">$bslash$div</span><span>

</span><span class="identifier">scala</span><span>&gt; </span><span class="identifier">sequenceList</span><span>(</span><span class="type-name">List</span><span>(\/.</span><span class="identifier">right</span><span>(</span><span class="number-literal">42</span><span>), \/.</span><span class="identifier">left</span><span>(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="string-literal">&quot;oops&quot;</span><span>))))
&lt;</span><span class="identifier">console</span><span>&gt;:</span><span class="number-literal">23</span><span>: </span><span class="identifier">error</span><span>: </span><span class="identifier">no</span><span> </span><span class="keyword">type</span><span> </span><span class="identifier">parameters</span><span> </span><span class="keyword">for</span><span> </span><span class="identifier">method</span><span> 
  </span><span class="identifier">sequenceList</span><span>: (</span><span class="identifier">xs</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">F</span><span>[</span><span class="type-name">A</span><span>]])(</span><span class="keyword">implicit</span><span> </span><span class="identifier">evidence$1</span><span>: </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Applicative</span><span>[</span><span class="type-name">F</span><span>])</span><span class="type-name">F</span><span>[</span><span class="type-name">List</span><span>[</span><span class="type-name">A</span><span>]]
  </span><span class="identifier">exist</span><span> </span><span class="identifier">so</span><span> </span><span class="identifier">that</span><span> </span><span class="identifier">it</span><span> </span><span class="identifier">can</span><span> </span><span class="identifier">be</span><span> </span><span class="identifier">applied</span><span> </span><span class="identifier">to</span><span> </span><span class="identifier">arguments</span><span>
  (</span><span class="type-name">List</span><span>[</span><span class="identifier">scalaz</span><span>.\/[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>],</span><span class="type-name">Int</span><span>]])
 --- </span><span class="identifier">because</span><span> ---
</span><span class="identifier">argument</span><span> </span><span class="identifier">expression</span><span>&#39;</span><span class="identifier">s</span><span> </span><span class="keyword">type</span><span> </span><span class="identifier">is</span><span> </span><span class="identifier">not</span><span> </span><span class="identifier">compatible</span><span> </span><span class="keyword">with</span><span> </span><span class="identifier">formal</span><span> </span><span class="identifier">parameter</span><span> </span><span class="keyword">type</span><span>;
 </span><span class="identifier">found</span><span>   : </span><span class="type-name">List</span><span>[</span><span class="identifier">scalaz</span><span>.\/[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>],</span><span class="type-name">Int</span><span>]]
 </span><span class="identifier">required</span><span>: </span><span class="type-name">List</span><span>[?</span><span class="type-name">F</span><span>]

              </span><span class="identifier">sequenceList</span><span>(</span><span class="type-name">List</span><span>(\/.</span><span class="identifier">right</span><span>(</span><span class="number-literal">42</span><span>), \/.</span><span class="identifier">left</span><span>(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="string-literal">&quot;oops&quot;</span><span>))))
              ^</span></code></pre>
    <p>Here, <code>?F</code> meaning it couldn&#39;t figure out that you meant <code>({type λ[α]
= NonEmptyList[String] \/ α})#λ</code>.</p>
    <pre><code class="nohighlight"><span class="identifier">scala</span><span>&gt; </span><span class="identifier">sequenceList</span><span>[({</span><span class="keyword">type</span><span> λ[α] = </span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>] \/ α})#λ, </span><span class="type-name">Int</span><span>
                  ](</span><span class="type-name">List</span><span>(\/.</span><span class="identifier">right</span><span>(</span><span class="number-literal">42</span><span>), \/.</span><span class="identifier">left</span><span>(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="string-literal">&quot;oops&quot;</span><span>))))
</span><span class="identifier">res5</span><span>: </span><span class="identifier">scalaz</span><span>.\/[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>],</span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]] =
        -\/(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="identifier">oops</span><span>))</span></code></pre>
    <p>The problem is that <code>NonEmptyList[String] \/ Int</code> has the shape
    <code>F[A, B]</code>, with <code>F</code> of kind <code>* -&gt; * -&gt; *</code> after a fashion, whereas the
    <code>F</code> it wants must have kind <code>* -&gt; *</code>, and Scala kinds aren&#39;t curried
    at all.</p>
    
    <h2 id="finding-an-unapply-instance" class="section"><a class="anchor-link" href="#finding-an-unapply-instance"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Finding an <code>Unapply</code> instance</h2>
    <p><code>Unapply</code>, though, <em>does</em> have implicit instances matching the
    <code>F[A, B]</code> shape, <code>unapplyMAB1</code> and <code>unapplyMAB2</code>, in its companion so
    effectively always visible.  What&#39;s special about them is that their
    type parameters match the “shape” you&#39;re working with, <code>F[A, B]</code>.</p>
    <p>You should
    <a href="https://github.com/scalaz/scalaz/blob/v7.0.3/core/src/main/scala/scalaz/Unapply.scala#L210">look at their source</a>
    to follow along.</p>
    <p>Let&#39;s see if one of them works.  For implicit resolution to finish,
    it&#39;s important that <em>exactly</em> one of them works.</p>
    <pre><code class="nohighlight"><span class="identifier">scala</span><span>&gt; </span><span class="keyword">import</span><span> </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Unapply</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Unapply</span><span>

</span><span class="identifier">scala</span><span>&gt; </span><span class="type-name">Unapply</span><span>.</span><span class="identifier">unapplyMAB1</span><span>[</span><span class="type-name">Applicative</span><span>, \/, </span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>], </span><span class="type-name">Int</span><span>]
&lt;</span><span class="identifier">console</span><span>&gt;:</span><span class="number-literal">23</span><span>: </span><span class="identifier">error</span><span>: </span><span class="identifier">could</span><span> </span><span class="identifier">not</span><span> </span><span class="identifier">find</span><span> </span><span class="keyword">implicit</span><span> </span><span class="identifier">value</span><span> </span><span class="keyword">for</span><span> </span><span class="identifier">parameter</span><span>
</span><span class="type-name">TC0</span><span>: </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Applicative</span><span>[[α]</span><span class="identifier">scalaz</span><span>.\/[α,</span><span class="type-name">Int</span><span>]]
              </span><span class="type-name">Unapply</span><span>.</span><span class="identifier">unapplyMAB1</span><span>[</span><span class="type-name">Applicative</span><span>, \/, </span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>], </span><span class="type-name">Int</span><span>]
                                 ^

</span><span class="identifier">scala</span><span>&gt; </span><span class="type-name">Unapply</span><span>.</span><span class="identifier">unapplyMAB2</span><span>[</span><span class="type-name">Applicative</span><span>, \/, </span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>], </span><span class="type-name">Int</span><span>]
</span><span class="identifier">res7</span><span>: </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Unapply</span><span>[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Applicative</span><span>,
                     </span><span class="identifier">scalaz</span><span>.\/[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>],</span><span class="type-name">Int</span><span>]]{
        </span><span class="keyword">type</span><span> </span><span class="type-name">M</span><span>[</span><span class="type-name">X</span><span>] = </span><span class="identifier">scalaz</span><span>.\/[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>],</span><span class="type-name">X</span><span>];
        </span><span class="keyword">type</span><span> </span><span class="type-name">A</span><span> = </span><span class="type-name">Int</span><span>
      } = </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Unapply_0$$anon$13</span><span>@5402af</span><span class="number-literal">61</span></code></pre>
    <p>Here, the type <code>res7.M</code> represents the typelambda being passed to
    <code>sequenceList</code>.  You can see that work.</p>
    <pre><code class="nohighlight"><span class="identifier">scala</span><span>&gt; </span><span class="identifier">sequenceList</span><span>[</span><span class="identifier">res7</span><span>.</span><span class="type-name">M</span><span>, </span><span class="identifier">res7</span><span>.</span><span class="type-name">A</span><span>](
                   </span><span class="type-name">List</span><span>(\/.</span><span class="identifier">right</span><span>(</span><span class="number-literal">42</span><span>), \/.</span><span class="identifier">left</span><span>(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="string-literal">&quot;oops&quot;</span><span>))))
</span><span class="identifier">res8</span><span>: </span><span class="identifier">res7</span><span>.</span><span class="type-name">M</span><span>[</span><span class="type-name">List</span><span>[</span><span class="identifier">res7</span><span>.</span><span class="type-name">A</span><span>]] = -\/(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="identifier">oops</span><span>))

</span><span class="identifier">scala</span><span>&gt; </span><span class="identifier">res8</span><span> : </span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>] \/ </span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]
</span><span class="identifier">res9</span><span>: </span><span class="identifier">scalaz</span><span>.\/[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>],</span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]] =
        -\/(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="identifier">oops</span><span>))</span></code></pre>
    <p>The <code>res8</code> conformance test shows that Scala can still reduce the
    path-dependent <code>res7.M</code> and <code>res7.A</code> types at this level, outside
    <code>sequenceList</code>.</p>
    
    <h2 id="searching-for-the-right-shape" class="section"><a class="anchor-link" href="#searching-for-the-right-shape"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Searching for the right shape</h2>
    <p>Implicit resolution can pick the call to <code>unapplyMAB2</code> partly because
    it can pick all of its type parameters without weird typelambda
    structures.  But in Scalaz, we use typeclasses to guide its choice.</p>
    <p>Why didn&#39;t <code>unapplyMAB1</code> work?  In this case, you can trust <code>scalac</code>
    to say exactly the right thing: it looked for
    <code>Applicative[[α]scalaz.\/[α,Int]]</code>, and didn&#39;t find one.  Sure enough,
    <code>\/</code> being right-biased means we don&#39;t offer that instance.</p>
    <p>Incidentally, if you were to introduce that instance, you&#39;d break code
    relying on right-biased <code>Unapply</code> resolution to work.</p>
    <p><code>unapplyMAB2</code> needs evidence of <code>TC[({type λ[α] = M0[A0, α]})#λ]</code>.
    But that&#39;s okay, because we have that, where <code>TC=Applicative</code>,
    <code>M0=\/</code>, and <code>A0=NonEmptyList[String]</code>!</p>
    <pre><code class="nohighlight"><span class="identifier">scala</span><span>&gt; </span><span class="type-name">Applicative</span><span>[({</span><span class="keyword">type</span><span> λ[α] = \/[</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>], α]})#λ]
</span><span class="identifier">res10</span><span>: </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Applicative</span><span>[[α]</span><span class="identifier">scalaz</span><span>.\/[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>],α]]
         = </span><span class="identifier">scalaz</span><span>.</span><span class="type-name">DisjunctionInstances2$$anon$1</span><span>@</span><span class="number-literal">2f658816</span></code></pre>
    <p>Scala doesn&#39;t need to figure out any typelambda itself for this to
    work; we did everything by putting the typelambda right into
    <code>unapplyMAB2</code>&#39;s evidence requirement, so it just has to find the
    conforming implicit value.</p>
    
    <h2 id="using-unapply-generically" class="section"><a class="anchor-link" href="#using-unapply-generically"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Using <code>Unapply</code> generically</h2>
    <p>Now you can write a <code>sequenceList</code> wrapper that works for <code>\/</code> and
    many other shapes, including user-provided shapes in the form of new
    <code>Unapply</code> implicit instances.  If you&#39;re using Scala 2.9 (still?!) you
    need to add <code>-Ydependent-method-types</code> to <code>scalacOptions</code> to write
    this function.</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">sequenceListU</span><span>[</span><span class="type-name">FA</span><span>](</span><span class="identifier">xs</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">FA</span><span>])
                     (</span><span class="keyword">implicit</span><span> </span><span class="type-name">U</span><span>: </span><span class="type-name">Unapply</span><span>[</span><span class="type-name">Applicative</span><span>, </span><span class="type-name">FA</span><span>]
                     ): </span><span class="type-name">U</span><span>.</span><span class="type-name">M</span><span>[</span><span class="type-name">List</span><span>[</span><span class="type-name">U</span><span>.</span><span class="type-name">A</span><span>]] =
  </span><span class="identifier">sequenceList</span><span>(</span><span class="type-name">U</span><span>.</span><span class="identifier">leibniz</span><span>.</span><span class="identifier">subst</span><span>(</span><span class="identifier">xs</span><span>))(</span><span class="type-name">U</span><span>.</span><span class="type-name">TC</span><span>)</span></code></pre>
    <p>Instead of <code>xs</code> being <code>List[F[A]]</code>, it&#39;s <code>List[FA]</code>, and that&#39;s
    destructured into <code>U.M</code> and <code>U.A</code>.  The latter are path-dependent
    types on <code>U</code>, the conventional name of the <code>Unapply</code> parameter.  We
    have also followed the convention of naming the <code>Unapply</code>-taking
    variant function ending with a <code>U</code>.</p>
    <p>And that works great!</p>
    <pre><code class="nohighlight"><span class="identifier">scala</span><span>&gt; </span><span class="identifier">sequenceListU</span><span>(</span><span class="type-name">List</span><span>(\/.</span><span class="identifier">right</span><span>(</span><span class="number-literal">42</span><span>), \/.</span><span class="identifier">left</span><span>(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="string-literal">&quot;oops&quot;</span><span>))))
</span><span class="identifier">res11</span><span>: </span><span class="identifier">scalaz</span><span>.\/[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">NonEmptyList</span><span>[</span><span class="type-name">String</span><span>],</span><span class="type-name">List</span><span>[</span><span class="type-name">Int</span><span>]] =
   -\/(</span><span class="type-name">NonEmptyList</span><span>(</span><span class="identifier">oops</span><span>))</span></code></pre>
    <p>Of course, there&#39;s that strange-looking function body to consider,
    still.</p>
    
    <h2 id="using-the-u-evidence" class="section"><a class="anchor-link" href="#using-the-u-evidence"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Using the <code>U</code> evidence</h2>
    <p>The type equalities of the original <code>U.M</code> and <code>U.A</code> to the original
    types can be seen where <code>res8</code> is refined to <code>res9</code> above.  But only
    the <em>caller</em> of the function knows those equalities, because it
    produced and supplied the <code>unapplyMAB2</code> call, which has a structural
    type containing those equalities.</p>
    <p>The body of <code>sequenceListU</code> doesn&#39;t know those things.  In particular,
    it <em>still</em> can&#39;t pick type parameters to pass to <code>sequenceList</code>
    without a little help.</p>
    <p>The <code>leibniz</code> member is a reified type equality of <code>FA === U.M[U.A]</code>,
    meaning those are the same at the type level, even though Scala can&#39;t
    see it in this context.  It represents genuine evidence that those two
    types are equal, and is much more powerful than scala-library&#39;s own
    <code>=:=</code>.  We&#39;re using the core Leibniz operator, <code>subst</code>, directly to
    prove that, <em>as a consequence of that type equality</em>, <code>List[FA] ===
List[U.M[U.A]]</code> is <em>also</em> a type equality, and that therefore this
    (constant-time) coercion is valid.  This lifting is applicable in all
    contexts, not just covariant ones like <code>List</code>&#39;s.  Take a look at
    <a href="https://github.com/scalaz/scalaz/blob/v7.0.3/core/src/main/scala/scalaz/Leibniz.scala">the full API</a>
    for more, though you&#39;ll typically just need to come up with the right
    type parameter for <code>subst</code>.</p>
    <p>You can&#39;t ask for an <code>Unapply</code> and <em>also</em> ask for an
    <code>Applicative[U.M]</code>; Scala won&#39;t allow it.  So, because we needed to
    resolve the typeclass anyway to find the <code>Unapply</code> implicit to use, we
    just cart it along with the <code>U</code> and give it to the function, which
    almost always needs to use it anyway.  Because it&#39;s not implicitly
    available, you usually need to grab it, <code>U.TC</code>, and use it directly.</p>
    
    <h2 id="using-in-scalaz-syntax" class="section"><a class="anchor-link" href="#using-in-scalaz-syntax"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Using in <code>scalaz.syntax</code></h2>
    <p><code>map</code> comes from functor syntax; it&#39;s not a method on <code>Function1</code>.  So
    how come this works?</p>
    <pre><code>scala&gt; import scalaz.std.function._
import scalaz.std.function._

scala&gt; ((_:Int) + 42) map (_ * 33)
res13: Int =&gt; Int = &lt;function1&gt;

scala&gt; res13(1)
res14: Int = 1419</code></pre>
    <p>When you import syntax, as <code>Functor</code> syntax was imported with
    <code>scalaz.syntax.applicative._</code> above, you get at least two conversions:
    the plain one, like <code>ToFunctorOps[F[_],A]</code>, which works if you have
    the right shape, and the fancy one, <code>ToFunctorOpsUnapply[FA]</code>, which
    uses an <code>Unapply</code> to effectively invoke <code>ToFunctorOps</code> as in the
    above.  The latter is lower-priority, so Scala will pick the former if
    the value has the <code>F[A]</code> shape.</p>
    <p>That gives access to all the methods in <code>FunctorOps</code>, and other ops
    classes, with only one special <code>U</code>-taking method.  If you have several
    functions operating on the same value type, or you can make that type
    similar with Leibnizian equality as implicit arguments to your
    methods, I suggest grouping them in this way, too, to cut down on
    boilerplate.</p>
    
    <h2 id="provide-both-anyway" class="section"><a class="anchor-link" href="#provide-both-anyway"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Provide both anyway</h2>
    <p>We sometimes get asked “why not just provide the <code>Unapply</code> version of
    the function or ops?”</p>
    <p>We do it, and suggest it for your own code, despite the confusion,
    because it&#39;s easier to work with real type equalities than with
    Leibnizian equality, which you can do in your “real” function
    implementation, and as seen in <code>res8</code> above, the path-dependent type
    resolution can leave funny artifacts in the inferred result.  Here&#39;s
    an extreme example from
    <a href="https://groups.google.com/d/msg/scalaz/9zAIGETrePI/o1rBsOcWJWAJ">an earlier demonstration</a>.</p>
    <pre><code class="nohighlight"><span class="identifier">scala</span><span>&gt; </span><span class="keyword">val</span><span> </span><span class="identifier">itt</span><span> = </span><span class="type-name">IdentityT</span><span> </span><span class="identifier">lift</span><span> </span><span class="identifier">it</span><span>
</span><span class="identifier">itt</span><span>: </span><span class="type-name">IdentityT</span><span>[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Unapply</span><span>[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Monad</span><span>,</span><span class="type-name">IdentityT</span><span>[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Unapply</span><span>[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Monad</span><span>,</span><span class="type-name">Identity</span><span>[</span><span class="type-name">Int</span><span>]]
                                                       {</span><span class="keyword">type</span><span> </span><span class="type-name">M</span><span>[</span><span class="type-name">X</span><span>] = </span><span class="type-name">Identity</span><span>[</span><span class="type-name">X</span><span>]; </span><span class="keyword">type</span><span> </span><span class="type-name">A</span><span> = </span><span class="type-name">Int</span><span>}#</span><span class="type-name">M</span><span>,
                                                     </span><span class="type-name">Int</span><span>]]
                 {</span><span class="keyword">type</span><span> </span><span class="type-name">M</span><span>[</span><span class="type-name">X</span><span>] = </span><span class="type-name">IdentityT</span><span>[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Unapply</span><span>[</span><span class="identifier">scalaz</span><span>.</span><span class="type-name">Monad</span><span>,</span><span class="type-name">Identity</span><span>[</span><span class="type-name">Int</span><span>]]
                                          {</span><span class="keyword">type</span><span> </span><span class="type-name">M</span><span>[</span><span class="type-name">X</span><span>] = </span><span class="type-name">Identity</span><span>[</span><span class="type-name">X</span><span>]; </span><span class="keyword">type</span><span> </span><span class="type-name">A</span><span> = </span><span class="type-name">Int</span><span>}#</span><span class="type-name">M</span><span>,
                                        </span><span class="type-name">X</span><span>];
                  </span><span class="keyword">type</span><span> </span><span class="type-name">A</span><span> = </span><span class="type-name">Int</span><span>}#</span><span class="type-name">M</span><span>,
               </span><span class="type-name">Int</span><span>]
  = </span><span class="type-name">IdentityT</span><span>(</span><span class="type-name">IdentityT</span><span>(</span><span class="type-name">Identity</span><span>(</span><span class="number-literal">42</span><span>)))</span></code></pre>
    
    <h2 id="credits" class="section"><a class="anchor-link" href="#credits"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Credits</h2>
    <p><a href="https://twitter.com/retronym">Jason Zaugg</a> implemented Scalaz
    <code>Unapply</code>, based on
    <a href="https://issues.scala-lang.org/browse/SI-2712?focusedCommentId=55239&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-55239">ideas</a>
    from <a href="https://twitter.com/milessabin">Miles Sabin</a> and
    <a href="https://github.com/pchiusano">Paul Chiusano</a>.</p>
    <p>Leibnizian equality was implemented for Scalaz by
    <a href="https://github.com/ekmett">Edward Kmett</a>.</p>
    <p><a href="https://twitter.com/larsr_h">Lars Hupel</a>&#39;s talk
    (<a href="https://speakerdeck.com/larsrh/seven-at-one-blow-new-and-polished-features-in-scalaz-7">slides</a>,
    <a href="https://www.youtube.com/watch?feature=player_embedded&v=KzoqOVD7mvE">video</a>)
    on the features in the then-upcoming Scalaz 7 at nescala 2013,
    including <code>Unapply</code>, gave me the missing “guided by typeclasses”
    detail, inspiring me to tell more people about the whole thing at the
    conference, and then, much later, write it down here.</p>
    <p><em>This article was tested with Scala 2.10.2 &amp; Scalaz 7.0.3.</em></p>
  </div>
</div>
<div class="bulma-section bulma-container bulma-is-max-desktop">
  <div class="bulma-columns">
    
    <div class="bulma-column">
      <article class="bulma-media">
  
  <figure class="bulma-media-left">
    <p class="bulma-image bulma-is-64x64">
      <img class="bulma-is-rounded" src="https://github.com/S11001001.png" />
    </p>
  </figure>
  
  <div class="bulma-media-content">
    <div class="bulma-content">
      <p>
        <strong>Stephen Compall</strong> 
        
        
        
        
      </p>
    </div>
    <nav class="bulma-level bulma-is-align-items-start">
      <div class="bulma-level-left bulma-is-flex-direction-row">
        
        
        
        <a class="bulma-level-item" href="http://github.com/S11001001">
          <span class="bulma-icon bulma-is-small"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
        </a>
        
        
        
        
      </div>
    </nav>
  </div>
</article>

    </div>
    
  </div>
</div>


  </main>
  <footer class="bulma-footer">
  <div class="bulma-columns">
    <div class="bulma-column bulma-is-half">
      Copyright 2026 Typelevel Foundation and <a href="https://github.com/typelevel/typelevel.github.com/graphs/contributors">contributors</a>.
      Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> unless <a href="../colophon.html#license">noted otherwise</a>.
    </div>
    <div class="bulma-column">
      <ul>
        <li><a href="../projects/">Project Index</a></li>
        <li><a href="../community/meetups.html">Meetup Calendar</a></li>
        <li><a href="../foundation/people.html">Leadership</a></li>
      </ul>
    </div>
    <div class="bulma-column">
      <ul>
        <li><a href="../code-of-conduct/">Code of Conduct</a></li>
        <li><a href="../security.html">Security Policy</a></li>
        <li><a href="../colophon.html">Colophon</a></li>
      </ul>
    </div>
  </div>
  <div class="bulma-has-text-centered">
    <div>Find us on ...</div>
    <div class="bulma-is-size-3">
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://github.com/typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://discord.gg/typelevel-632277896739946517">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1 .1s-.6 .4-.8 .8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2c-41.3 7.1-81.6 19.6-119.7 37.1-.3 .1-.6 .4-.8 .7-76.2 113.8-97.1 224.9-86.9 334.5 0 .3 .1 .5 .2 .8s.3 .4 .5 .6c44.4 32.9 94 58 146.8 74.2 .4 .1 .8 .1 1.1 0s.7-.4 .9-.7c11.3-15.4 21.4-31.8 30-48.8 .1-.2 .2-.5 .2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6 .2-.9 .3-.5 .6-.7c3.1-2.3 6.2-4.7 9.1-7.1 .3-.2 .6-.4 .9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1 .7-.2 1-.2s.7 .2 .9 .4c2.9 2.4 6 4.9 9.1 7.2 .2 .2 .4 .4 .6 .7s.2 .6 .2 .9-.1 .6-.3 .9-.4 .5-.6 .6c-14.7 8.6-30 15.9-45.9 21.8-.2 .1-.5 .2-.7 .4s-.3 .4-.4 .7-.1 .5-.1 .8 .1 .5 .2 .8c8.8 17 18.8 33.3 30 48.8 .2 .3 .6 .6 .9 .7s.8 .1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2 .2-.2 .4-.4 .5-.6s.2-.5 .2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2zm195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://bsky.app/profile/typelevel.org">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4 .4 6.7 .9 10 1.3zM288 227.1C261.9 176.4 190.9 81.9 124.9 35.3 61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3 .5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9 120.3 124.6 164.8-26.7 187.7-103.4 22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4 .4 6.7 .9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7 5.9-19.9 15-138.9 15-155.5s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8-66.1 46.6-137.1 141.1-163.2 191.8z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://fosstodon.org/@typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zM357.9 304.3l-46.6 0 0-114.2c0-49.7-64-51.6-64 6.9l0 62.5-46.3 0 0-62.5c0-58.5-64-56.6-64-6.9l0 114.2-46.7 0c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175l0 0z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://www.youtube.com/@typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M549.7 124.1C543.5 100.4 524.9 81.8 501.4 75.5 458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5C51.2 81.8 32.7 100.4 26.4 124.1 15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8 42.6 11.5 213.4 11.5 213.4 11.5s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6l0-162.4 142.7 81.2-142.7 81.2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current"
        href="https://linkedin.com/company/typelevel-foundation">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 32L31.9 32C14.3 32 0 46.5 0 64.3L0 447.7C0 465.5 14.3 480 31.9 480L416 480c17.6 0 32-14.5 32-32.3l0-383.4C448 46.5 433.6 32 416 32zM135.4 416l-66.4 0 0-213.8 66.5 0 0 213.8-.1 0zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77zM384.3 416l-66.4 0 0-104c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9l0 105.8-66.4 0 0-213.8 63.7 0 0 29.2 .9 0c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9l0 117.2z"/></svg>
      </a>
    </div>
  </div>
</footer>

</body>

</html>

