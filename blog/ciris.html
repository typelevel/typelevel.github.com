<!DOCTYPE html>
<html lang="en" data-bulma-theme="light">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" href="../img/favicon.ico" sizes="32x32">
  <link rel="icon" href="../img/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="../img/apple-touch-icon.png">

  <meta property="og:title" content="Validated Configurations with Ciris" />
  <meta property="og:image" content="../img/logo.png" />

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">

  

  <link rel="stylesheet" href="../main.css">
  <link rel="stylesheet" href="../css/code.css">
  <script src="../main.js"></script>

  <title>Validated Configurations with Ciris</title>
</head>

<body class="bulma-is-flex bulma-is-flex-direction-column">
  <nav class="bulma-navbar" role="navigation" aria-label="main navigation">
  <div class="bulma-navbar-brand">
    <a class="bulma-navbar-item" href="../">
      <img src="../img/logo.svg" />
    </a>

    <a role="button" class="bulma-navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu"
      onClick="handleBurgerClick(this)">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="bulma-navbar-menu" id="navMenu">
    <div class="bulma-navbar-start">

    </div>
    <div class="bulma-navbar-end">
      <!-- <div class="bulma-navbar-item"><a class="bulma-button bulma-is-rounded bulma-is-primary bulma-has-text-light">Get Started</a></div> -->
      <!-- <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text">Learn</a></div> -->
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../projects/">Projects</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../community/">Community</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../foundation/">Foundation</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="index.html">Blog</a></div>
      <div class="bulma-navbar-item">
        <a id="search-top-bar" class="bulma-button bulma-is-text" aria-label="Search" onclick="showSearchModal()">
          <span class="bulma-icon bulma-is-small bulma-is-size-6">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
          </span>
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Search Modal -->
<div id="search-modal" class="bulma-modal bulma-is-justify-content-flex-start bulma-pt-6 bulma-pb-6">
  <div class="bulma-modal-background bulma-is-align-items-flex-start" onclick="hideSearchModal()"></div>
  <div class="bulma-modal-card">
    <header class="bulma-modal-card-head">
      <p class="bulma-control bulma-has-icons-left bulma-is-flex-grow-1">
        <input id="search-input" class="bulma-input bulma-is-medium bulma-is-primary" type="search" autocomplete="off" oninput="onSearchInput(event)">
        <span class="bulma-icon bulma-is-left bulma-has-text-primary">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
        </span>
      </p>
    </header>
    <section id="search-results" class="bulma-modal-card-body">
    </section>
    <footer class="bulma-modal-card-foot bulma-is-justify-content-space-between">
      <span class="bulma-has-text-grey bulma-is-size-7">
        <kbd class="bulma-tag">/</kbd> to open search &nbsp;
        <kbd class="bulma-tag">Esc</kbd> to close
      </span>
    </footer>
  </div>
</div>

  <main class="bulma-is-flex-grow-1">
    
<section class="bulma-hero bulma-is-primary bulma-is-bold">
  <div class="bulma-hero-body bulma-container bulma-is-max-desktop">
    <p class="bulma-title bulma-has-text-light">Validated Configurations with Ciris</p>
    <p class="blog-post-byline bulma-has-text-light bulma-subtitle">
      by
      
        Viktor Lövgren<span class="delimiter">,</span><span class="last-delimiter"> &</span>
      
      on June 21, 2017
    </p>
     
      <span class="bulma-tag">technical</span>
     
  </div>
</section>
<div class="bulma-section bulma-container bulma-is-max-desktop">
  <div class="blog-post bulma-content">
    <h1 id="validated-configurations-with-ciris" class="title">Validated Configurations with Ciris</h1>
    <p>The need for configuration arises in almost every application, as we want to be able to run in different environments -- for example, local, testing, and production environments. Configurations are also used as a way to keep secrets, like passwords and keys, out of source code and version control. By having configurations as untyped structured data in files, we can change and override settings without having to recompile our software.</p>
    <p>In this blog post, we&#39;ll take a look at configurations with configuration files, to see how we can make the loading process less error-prone, while overcoming obstacles with boilerplate, testing, and validation. We&#39;ll also identify when it&#39;s suitable to use Scala as a configuration language for improved compile-time safety, convenience, and flexibility; and more specifically, how <a href="https://cir.is">Ciris</a> helps out.</p>
    
    <h3 id="configuration-files" class="section"><a class="anchor-link" href="#configuration-files"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Configuration Files</h3>
    <p>Traditionally, configuration files, and libraries like <a href="https://github.com/typesafehub/config">Typesafe Config</a>, have been used to load configurations. This involves writing your configuration file, declaring values and how they&#39;re loaded, and then writing very similar Scala code for loading that configuration. That kind of boilerplate code typically looks something along the lines of the following example.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">com</span><span>.</span><span class="identifier">typesafe</span><span>.</span><span class="identifier">config</span><span>.{</span><span class="type-name">Config</span><span>, </span><span class="type-name">ConfigFactory</span><span>}

</span><span class="comment">// The settings class, wrapping Typesafe Config
</span><span class="keyword">final</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Settings</span><span>(</span><span class="identifier">config</span><span>: </span><span class="type-name">Config</span><span>) {
  </span><span class="keyword">object</span><span> </span><span class="identifier">http</span><span> {
    </span><span class="keyword">def</span><span> </span><span class="declaration-name">apiKey</span><span> = </span><span class="identifier">config</span><span>.</span><span class="identifier">getString</span><span>(</span><span class="string-literal">&quot;http.api-key&quot;</span><span>)
    </span><span class="keyword">def</span><span> </span><span class="declaration-name">timeoutSeconds</span><span> = </span><span class="identifier">config</span><span>.</span><span class="identifier">getInt</span><span>(</span><span class="string-literal">&quot;http.timeout-seconds&quot;</span><span>)
    </span><span class="keyword">def</span><span> </span><span class="declaration-name">port</span><span> = </span><span class="identifier">config</span><span>.</span><span class="identifier">getInt</span><span>(</span><span class="string-literal">&quot;http.port&quot;</span><span>)
  }
}

</span><span class="comment">// The configuration file, here represented in code
</span><span class="keyword">val</span><span> </span><span class="identifier">config</span><span> =
  </span><span class="type-name">ConfigFactory</span><span>.</span><span class="identifier">parseString</span><span>(
    </span><span class="string-literal">&quot;&quot;&quot;
      |http {
      |  api-key = ${?API_KEY}
      |  timeout-seconds = 10
      |  port = 989
      |}
    &quot;&quot;&quot;</span><span>.</span><span class="identifier">stripMargin</span><span>
  ).</span><span class="identifier">resolve</span><span>()

</span><span class="keyword">val</span><span> </span><span class="identifier">settings</span><span> = </span><span class="type-name">Settings</span><span>(</span><span class="identifier">config</span><span>)</span></code></pre>
    <pre><code class="nohighlight"><span class="identifier">show</span><span>(</span><span class="identifier">settings</span><span>)
</span><span class="comment">// Settings(Config(SimpleConfigObject({&quot;http&quot;:{&quot;port&quot;:989,&quot;timeout-seconds&quot;:10}})))</span></code></pre>
    <p>This is a tedious, error-prone process that rarely sees any testing efforts. <a href="https://github.com/pureconfig/pureconfig">PureConfig</a> (and other libraries, like <a href="https://github.com/47deg/case-classy">Case Classy</a>) were created to remove that boilerplate. Using macros and conventions, they inspect your configuration model (nested case classes) and generate the necessary configuration loading code. This eliminates a lot of errors typically associated with configuration loading. Following is an example of how you can load that very same configuration with PureConfig.</p>
    <pre><code class="nohighlight"><span class="keyword">final</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">HttpSettings</span><span>(
  </span><span class="identifier">apiKey</span><span>: </span><span class="type-name">String</span><span>,
  </span><span class="identifier">timeoutSeconds</span><span>: </span><span class="type-name">Int</span><span>,
  </span><span class="identifier">port</span><span>: </span><span class="type-name">Int</span><span>
)

</span><span class="keyword">final</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Settings</span><span>(</span><span class="identifier">http</span><span>: </span><span class="type-name">HttpSettings</span><span>)

</span><span class="keyword">val</span><span> </span><span class="identifier">settings</span><span> = </span><span class="identifier">pureconfig</span><span>.</span><span class="identifier">loadConfig</span><span>[</span><span class="type-name">Settings</span><span>](</span><span class="identifier">config</span><span>)</span></code></pre>
    <pre><code class="nohighlight"><span class="identifier">show</span><span>(</span><span class="identifier">settings</span><span>)
</span><span class="comment">// Left(ConfigReaderFailures(KeyNotFound(&quot;http.api-key&quot;, None, Set()), List()))</span></code></pre>
    
    <h3 id="encoding-validation" class="section"><a class="anchor-link" href="#encoding-validation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Encoding Validation</h3>
    <p>In both previous examples, we do not check whether our configurations are valid to use with our application. In the case of Typesafe Config, we hit a runtime exception if the key is missing or if the type conversion fails, and in PureConfig&#39;s case, we will instead get a <code>ConfigReaderFailures</code>. But in neither case do we care what values are being loaded, as long as they can be converted to the appropriate types. For example, we might require a key of certain length and that it only contains certain characters, the timeout needs to be positive, and the port must be a non-system port number (value in the inclusive range between 1024 and 65535).</p>
    <p>You could write an additional validation step to ensure the configuration is valid after it has been loaded -- which can be tedious to write and requires testing. One could also argue that the types of the configuration values are too permissive: why use <code>String</code> for the key if you do not accept all <code>String</code> values? And why use an <code>Int</code> for timeout and port, if you only allow a limited subset of values?</p>
    <p>We could write these custom types ourselves, including the validation logic, and tell PureConfig how to load them -- which would be tedious to write for many types and would require testing. Another alternative is to use <a href="https://github.com/fthomas/refined">refined</a>, which allows you to do type-level refinements (apply predicates) to types. I found this approach so useful that I wrote a small integration between PureConfig and refined at the end of last year (see <a href="https://blog.vlovgr.se/posts/2016-12-24-refined-configuration.html">blog post</a>), so that PureConfig can now load refined&#39;s types.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">eu</span><span>.</span><span class="identifier">timepit</span><span>.</span><span class="identifier">refined</span><span>.</span><span class="identifier">api</span><span>.</span><span class="type-name">Refined</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">eu</span><span>.</span><span class="identifier">timepit</span><span>.</span><span class="identifier">refined</span><span>.</span><span class="identifier">numeric</span><span>.</span><span class="type-name">Interval</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">eu</span><span>.</span><span class="identifier">timepit</span><span>.</span><span class="identifier">refined</span><span>.</span><span class="identifier">pureconfig</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">eu</span><span>.</span><span class="identifier">timepit</span><span>.</span><span class="identifier">refined</span><span>.</span><span class="identifier">string</span><span>.</span><span class="type-name">MatchesRegex</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">eu</span><span>.</span><span class="identifier">timepit</span><span>.</span><span class="identifier">refined</span><span>.</span><span class="identifier">types</span><span>.</span><span class="identifier">numeric</span><span>.</span><span class="type-name">PosInt</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">eu</span><span>.</span><span class="identifier">timepit</span><span>.</span><span class="identifier">refined</span><span>.</span><span class="type-name">W</span><span>

</span><span class="keyword">type</span><span> </span><span class="type-name">ApiKey</span><span> = </span><span class="type-name">String</span><span> </span><span class="type-name">Refined</span><span> </span><span class="type-name">MatchesRegex</span><span>[</span><span class="type-name">W</span><span>.</span><span class="identifier">`&quot;[a-zA-Z0-9]{25,40}&quot;`</span><span>.</span><span class="type-name">T</span><span>]

</span><span class="keyword">type</span><span> </span><span class="type-name">NonSystemPort</span><span> = </span><span class="type-name">Int</span><span> </span><span class="type-name">Refined</span><span> </span><span class="type-name">Interval</span><span>.</span><span class="type-name">Closed</span><span>[</span><span class="type-name">W</span><span>.</span><span class="identifier">`1024`</span><span>.</span><span class="type-name">T</span><span>, </span><span class="type-name">W</span><span>.</span><span class="identifier">`65535`</span><span>.</span><span class="type-name">T</span><span>]

</span><span class="keyword">final</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">HttpSettings</span><span>(
  </span><span class="identifier">apiKey</span><span>: </span><span class="type-name">ApiKey</span><span>,
  </span><span class="identifier">timeoutSeconds</span><span>: </span><span class="type-name">PosInt</span><span>,
  </span><span class="identifier">port</span><span>: </span><span class="type-name">NonSystemPort</span><span>
)

</span><span class="keyword">final</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Settings</span><span>(</span><span class="identifier">http</span><span>: </span><span class="type-name">HttpSettings</span><span>)

</span><span class="keyword">val</span><span> </span><span class="identifier">settings</span><span> = </span><span class="identifier">pureconfig</span><span>.</span><span class="identifier">loadConfig</span><span>[</span><span class="type-name">Settings</span><span>](</span><span class="identifier">config</span><span>)</span></code></pre>
    <pre><code class="nohighlight"><span class="identifier">show</span><span>(</span><span class="identifier">settings</span><span>)
</span><span class="comment">// Left(
//   ConfigReaderFailures(
//     KeyNotFound(&quot;http.api-key&quot;, None, Set()),
//     List(
//       CannotConvert(
//         &quot;989&quot;,
//         &quot;eu.timepit.refined.api.Refined[Int,eu.timepit.refined.boolean.And[eu.timepit.refined.boolean.Not[eu.timepit.refined.numeric.Less[Int(1024)]],eu.timepit.refined.boolean.Not[eu.timepit.refined.numeric.Greater[Int(65535)]]]]&quot;,
//         &quot;Left predicate of (!(989 &lt; 1024) &amp;&amp; !(989 &gt; 65535)) failed: Predicate (989 &lt; 1024) did not fail.&quot;,
//         None,
//         &quot;http.port&quot;
//       )
//     )
//   )
// )</span></code></pre>
    <p>As you can see in the example above, refined already contains type aliases for many common refinement types, like <code>PosInt</code> (for <code>Int</code> values greater than zero). You can also easily define your own predicates, like the one for the key and port. The <code>W</code> here is a shorthand for <a href="https://github.com/milessabin/shapeless">shapeless</a>&#39; <code>Witness</code>: a way to encode literal-based singleton types (essentially, values on the type-level). If you&#39;re using <a href="https://typelevel.org/scala/">Typelevel Scala</a> with the <code>-Yliteral-types</code> flag, you can write values directly in the type declaration, without having to use <code>Witness</code>.</p>
    <p>If you&#39;re not convinced configurations need to be validated, I can recommend reading the paper <a href="https://www.usenix.org/system/files/conference/osdi16/osdi16-xu.pdf">Early Detection of Configuration Errors to Reduce Failure Damage</a>, and to read through the slides of Leif Wickland&#39;s (one of the authors behind PureConfig) recent presentation <a href="http://leifwickland.github.io/presentations/configBomb/">Defusing the Configuration Time Bomb</a> on the subject.</p>
    <p>In many ways, think of configurations as user input -- would you happily accept any values provided to your application from its users? Probably not: you would validate the input, and sanitize it if possible. Think about configurations in the same way, except that the user here might happen to be a developer of the application. The key here, as discussed in the paper linked above, is to check that your configuration is valid as soon as possible, ideally at compile-time, or as soon as the application starts. We want to avoid situations where we&#39;re running the application and suddenly discover that configuration values are invalid or cannot be loaded -- or worse, continue running with an invalid configuration, not to discover issues until much later on.</p>
    
    <h3 id="improving-compile-time-safety" class="section"><a class="anchor-link" href="#improving-compile-time-safety"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Improving Compile-time Safety</h3>
    <p>We&#39;ve now got a way to encode validation in the types of our configurations, and a boilerplate-free way of loading values of those types from configuration files -- is there still room for improvement? To answer that question, we first need to ask why we are using configuration files in the first place.</p>
    <p>Whether you thought about it or not, the main reason for using configuration files is so that we can change settings without having to recompile the software. In my experience, most developers default to using configuration files, and almost always change values by pushing commits to a version control repository. This is followed by a new release of the software, either manually or via a <a href="https://www.agilealliance.org/glossary/continuous-integration">continuous integration</a> system. In scenarios like this, and in general when it&#39;s easy to change and release software (particularly when employing <a href="https://www.agilealliance.org/glossary/continuous-deployment/">continuous deployment</a> practices), configuration files are not used for the benefit of being able to change values without recompile.</p>
    <p>In such cases, why are we not writing the configurations directly in source code? Christopher Vogt has written an excellent <a href="https://medium.com/@cvogt/scala-as-a-configuration-language-f075b058a660">blog post</a> (and given a <a href="https://www.youtube.com/watch?v=ox4IhIL6ojg">presentation</a>) on the subject. The tricky part here is managing values which need to be dynamic in the environment (like the port to bind) and are secret (like passwords and keys). Depending on your requirements and preferences, you more or less have two alternatives.</p>
    <ul>
      <li>
        <p>If you know which environments your application will run in, and what the configuration values will be in those environments, you can just include the configurations in your application code (if it has no secrets), or store, compile, and bundle the configuration separately. If you have a requirement that secrets shouldn&#39;t touch persistent storage, this might not be a feasible alternative. You might also appreciate the fact that all code relating to your application is in the same version control repository and gets compiled together, in which case this approach might not be suitable.</p>
      </li>
      <li>
        <p>Alternatively, you can include the configuration in your application, but load secrets and values which need to be dynamic from the environment during runtime. This is necessary when configuration values cannot be determined beforehand -- because you do not know what environment your application will run in, or if you use a vault (like <a href="https://github.com/fugue/credstash">credstash</a>, for example) or a configuration service (like <a href="https://zookeeper.apache.org">ZooKeeper</a>, for example) -- or if you prefer having your configuration together with your application code and in the same version control repository.</p>
      </li>
    </ul>
    <p>In this post, we&#39;ll only focus on the latter case. While it’s possible to not use any libraries in the latter case, loading values from the environment typically means dealing with: different environments and configuration sources, type conversions, error handling, and validation. This is where <a href="https://cir.is">Ciris</a> comes in: a small library, dependency-free at its core, helping you to deal with all of that more easily.</p>
    
    <h3 id="introducing-ciris" class="section"><a class="anchor-link" href="#introducing-ciris"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Introducing Ciris</h3>
    <p>Imagine for the moment that no part of your configuration is secret and that your application only ever runs in one environment. You can then just write your configuration in code.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">eu</span><span>.</span><span class="identifier">timepit</span><span>.</span><span class="identifier">refined</span><span>.</span><span class="identifier">auto</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">final</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Config</span><span>(
  </span><span class="identifier">apiKey</span><span>: </span><span class="type-name">ApiKey</span><span>,
  </span><span class="identifier">timeoutSeconds</span><span>: </span><span class="type-name">PosInt</span><span>,
  </span><span class="identifier">port</span><span>: </span><span class="type-name">NonSystemPort</span><span>
)

</span><span class="keyword">val</span><span> </span><span class="identifier">config</span><span> =
  </span><span class="type-name">Config</span><span>(
    </span><span class="identifier">apiKey</span><span> = </span><span class="string-literal">&quot;RacrqvWjuu4KVmnTG9b6xyZMTP7jnX&quot;</span><span>,
    </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
    </span><span class="identifier">port</span><span> = </span><span class="number-literal">4000</span><span>
  )</span></code></pre>
    <p>You then realize that it&#39;s a bad idea to put the key in the source code, because source code can easily get into the wrong hands. You decide that you&#39;ll instead read an environment variable for the key. Since you want to make sure that your configuration is valid, you have used refinement types, so you&#39;ll have to make sure to check that the key conforms to the predicate. You would also welcome a helpful error message if the key is missing or invalid. This sounds like more work than it should be, so let&#39;s see how <a href="https://cir.is">Ciris</a> can help us.</p>
    <p>Ciris method for loading configurations is <code>loadConfig</code> and it works in two steps: first define what to load, and then how to load the configuration. For reading a key from an environment variable, you can use <code>env[ApiKey](&quot;API_KEY&quot;)</code> which reads the environment variable <code>API_KEY</code> as an <code>ApiKey</code>. Ciris has a refined integration in a separate module, so you just need to add an appropriate import. Loading the configuration is then just a function accepting the loaded values as arguments.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">ciris</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">ciris</span><span>.</span><span class="identifier">refined</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">val</span><span> </span><span class="identifier">config</span><span> =
  </span><span class="identifier">loadConfig</span><span>(
    </span><span class="identifier">env</span><span>[</span><span class="type-name">ApiKey</span><span>](</span><span class="string-literal">&quot;API_KEY&quot;</span><span>)
  ) { </span><span class="identifier">apiKey</span><span> =&gt;
    </span><span class="type-name">Config</span><span>(
      </span><span class="identifier">apiKey</span><span> = </span><span class="identifier">apiKey</span><span>,
      </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
      </span><span class="identifier">port</span><span> = </span><span class="number-literal">4000</span><span>
    )
  }</span></code></pre>
    <pre><code class="nohighlight"><span class="identifier">show</span><span>(</span><span class="identifier">config</span><span>)
</span><span class="comment">// Left(ConfigErrors(MissingKey(API_KEY, Environment)))</span></code></pre>
    <p>Ciris deals with type conversions, error handling, and error accumulation, so you can focus on your configuration. The <code>loadConfig</code> method returns an <code>Either[ConfigErrors, T]</code> instance back, where <code>T</code> is the result of your configuration loading function. You can retrieve the accumulated error messages by using <code>messages</code> on <code>ConfigErrors</code>.</p>
    <pre><code class="nohighlight"><span class="identifier">show</span><span> { </span><span class="identifier">config</span><span>.</span><span class="identifier">left</span><span>.</span><span class="identifier">map</span><span>(</span><span class="identifier">_</span><span>.</span><span class="identifier">messages</span><span>) }
</span><span class="comment">// Left(Vector(&quot;Missing environment variable [API_KEY]&quot;))</span></code></pre>
    <p>If we decided that the port needs to be dynamic as well, we can simply make that change. In the example below, we are using <code>prop</code> to read the <code>http.port</code> system property for the port to use. As you can see, you are free to mix configuration sources as you please. While we are reading environment variables and system properties in these examples, you could just as well use sources for some configuration services or vaults.</p>
    <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">config</span><span> =
  </span><span class="identifier">loadConfig</span><span>(
    </span><span class="identifier">env</span><span>[</span><span class="type-name">ApiKey</span><span>](</span><span class="string-literal">&quot;API_KEY&quot;</span><span>),
    </span><span class="identifier">prop</span><span>[</span><span class="type-name">NonSystemPort</span><span>](</span><span class="string-literal">&quot;http.port&quot;</span><span>)
  ) { (</span><span class="identifier">apiKey</span><span>, </span><span class="identifier">port</span><span>) =&gt;
    </span><span class="type-name">Config</span><span>(
      </span><span class="identifier">apiKey</span><span> = </span><span class="identifier">apiKey</span><span>,
      </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
      </span><span class="identifier">port</span><span> = </span><span class="identifier">port</span><span>
    )
  }</span></code></pre>
    <pre><code class="nohighlight"><span class="identifier">show</span><span> { </span><span class="identifier">config</span><span>.</span><span class="identifier">left</span><span>.</span><span class="identifier">map</span><span>(</span><span class="identifier">_</span><span>.</span><span class="identifier">messages</span><span>) }
</span><span class="comment">// Left(
//   Vector(
//     &quot;Missing environment variable [API_KEY]&quot;,
//     &quot;Missing system property [http.port]&quot;
//   )
// )</span></code></pre>
    <p>You might recognize the similarities between <code>loadConfig</code> and <code>ValidatedNel</code> with an <code>Apply</code> instance from <a href="https://typelevel.org/cats/">Cats</a>. That&#39;s because it&#39;s more or less how <code>loadConfig</code> works behind the scenes, except Ciris has its own custom implementation in order to be dependency-free in the core module.</p>
    
    <h4 id="multiple-environments" class="section"><a class="anchor-link" href="#multiple-environments"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Multiple Environments</h4>
    <p>We still have to deal with multiple environments in our configuration, assuming there are differences between configurations, or how they are loaded, in the different environments. There are several ways you can do this with Ciris -- one way is to define an enumeration with <a href="https://github.com/lloydmeta/enumeratum">enumeratum</a> and load values of that enumeration. Let&#39;s say we want to use a default configuration when running the application locally, but want to keep the key and port dynamic in the other environments (testing and production). We start by defining an enumeration of the different environments.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">_root_</span><span>.</span><span class="identifier">enumeratum</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">object</span><span> </span><span class="identifier">environments</span><span> {
  </span><span class="keyword">sealed</span><span> </span><span class="keyword">abstract</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">AppEnvironment</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">EnumEntry</span><span>
  </span><span class="keyword">object</span><span> </span><span class="type-name">AppEnvironment</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">Enum</span><span>[</span><span class="type-name">AppEnvironment</span><span>] {
    </span><span class="keyword">case</span><span> </span><span class="keyword">object</span><span> </span><span class="type-name">Local</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">AppEnvironment</span><span>
    </span><span class="keyword">case</span><span> </span><span class="keyword">object</span><span> </span><span class="type-name">Testing</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">AppEnvironment</span><span>
    </span><span class="keyword">case</span><span> </span><span class="keyword">object</span><span> </span><span class="type-name">Production</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">AppEnvironment</span><span>

    </span><span class="keyword">val</span><span> </span><span class="identifier">values</span><span> = </span><span class="identifier">findValues</span><span>
  }
}</span></code></pre>
    <p>We can use the <code>withValue</code> method to define a requirement on a configuration value in order to be able to load our configuration. It works just like <code>loadConfig</code>, except it wraps your <code>loadConfig</code> statements (think of it as <code>flatMap</code>, while <code>loadConfig</code> is <code>map</code>). If no environment was specified in the environment variable <code>APP_ENV</code> or if it was set to <code>Local</code>, we will use a default configuration. We&#39;ll load the configuration just like before for any other valid environments (testing and production).</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">environments</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">ciris</span><span>.</span><span class="identifier">enumeratum</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">val</span><span> </span><span class="identifier">config</span><span> =
  </span><span class="identifier">withValue</span><span>(</span><span class="identifier">env</span><span>[</span><span class="type-name">Option</span><span>[</span><span class="type-name">AppEnvironment</span><span>]](</span><span class="string-literal">&quot;APP_ENV&quot;</span><span>)) {
    </span><span class="keyword">case</span><span> </span><span class="type-name">Some</span><span>(</span><span class="type-name">AppEnvironment</span><span>.</span><span class="type-name">Local</span><span>) | </span><span class="type-name">None</span><span> =&gt;
      </span><span class="identifier">loadConfig</span><span> {
        </span><span class="type-name">Config</span><span>(
          </span><span class="identifier">apiKey</span><span> = </span><span class="string-literal">&quot;RacrqvWjuu4KVmnTG9b6xyZMTP7jnX&quot;</span><span>,
          </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
          </span><span class="identifier">port</span><span> = </span><span class="number-literal">4000</span><span>
        )
      }

    </span><span class="keyword">case</span><span> </span><span class="identifier">_</span><span> =&gt;
      </span><span class="identifier">loadConfig</span><span>(
        </span><span class="identifier">env</span><span>[</span><span class="type-name">ApiKey</span><span>](</span><span class="string-literal">&quot;API_KEY&quot;</span><span>),
        </span><span class="identifier">prop</span><span>[</span><span class="type-name">NonSystemPort</span><span>](</span><span class="string-literal">&quot;http.port&quot;</span><span>)
      ) { (</span><span class="identifier">apiKey</span><span>, </span><span class="identifier">port</span><span>) =&gt;
        </span><span class="type-name">Config</span><span>(
          </span><span class="identifier">apiKey</span><span> = </span><span class="identifier">apiKey</span><span>,
          </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
          </span><span class="identifier">port</span><span> = </span><span class="identifier">port</span><span>
        )
      }
  }</span></code></pre>
    <pre><code class="nohighlight"><span class="identifier">show</span><span>(</span><span class="identifier">config</span><span>)
</span><span class="comment">// Right(Config(RacrqvWjuu4KVmnTG9b6xyZMTP7jnX, 10, 4000))</span></code></pre>
    <p>An alternative to the above is to have multiple entrypoints (<code>main</code> methods) in your application, each running the application with different configuration loading code (or using a default configuration) for the respective environment. Depending on how packaging and running of your application looks like across different environments, this may or may not be a suitable solution. Note that it&#39;s very much possible to mix these approaches, and you should strive to find what works best in your case.</p>
    <pre><code class="nohighlight"><span class="comment">// Runs the application with the provided configuration
</span><span class="keyword">def</span><span> </span><span class="declaration-name">runApplication</span><span>(</span><span class="identifier">config</span><span>: </span><span class="type-name">Config</span><span>): </span><span class="type-name">Unit</span><span> = { </span><span class="comment">/* omitted */</span><span> }

</span><span class="keyword">object</span><span> </span><span class="type-name">Local</span><span> {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">main</span><span>(</span><span class="identifier">args</span><span>: </span><span class="type-name">Array</span><span>[</span><span class="type-name">String</span><span>]): </span><span class="type-name">Unit</span><span> =
    </span><span class="identifier">runApplication</span><span> {
      </span><span class="type-name">Config</span><span>(
        </span><span class="identifier">apiKey</span><span> = </span><span class="string-literal">&quot;RacrqvWjuu4KVmnTG9b6xyZMTP7jnX&quot;</span><span>,
        </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
        </span><span class="identifier">port</span><span> = </span><span class="number-literal">4000</span><span>
      )
    }
}

</span><span class="keyword">object</span><span> </span><span class="type-name">TestingOrProduction</span><span> {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">main</span><span>(</span><span class="identifier">args</span><span>: </span><span class="type-name">Array</span><span>[</span><span class="type-name">String</span><span>]): </span><span class="type-name">Unit</span><span> =
    </span><span class="identifier">runApplication</span><span> {
      </span><span class="keyword">val</span><span> </span><span class="identifier">config</span><span> =
        </span><span class="identifier">loadConfig</span><span>(
          </span><span class="identifier">env</span><span>[</span><span class="type-name">ApiKey</span><span>](</span><span class="string-literal">&quot;API_KEY&quot;</span><span>),
          </span><span class="identifier">prop</span><span>[</span><span class="type-name">NonSystemPort</span><span>](</span><span class="string-literal">&quot;http.port&quot;</span><span>)
        ) { (</span><span class="identifier">apiKey</span><span>, </span><span class="identifier">port</span><span>) =&gt;
          </span><span class="type-name">Config</span><span>(
            </span><span class="identifier">apiKey</span><span> = </span><span class="identifier">apiKey</span><span>,
            </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
            </span><span class="identifier">port</span><span> = </span><span class="identifier">port</span><span>
          )
        }

      </span><span class="identifier">config</span><span>.</span><span class="identifier">fold</span><span>(
        </span><span class="identifier">errors</span><span> =&gt; </span><span class="keyword">throw</span><span> </span><span class="keyword">new</span><span> </span><span class="type-name">IllegalArgumentException</span><span>(</span><span class="string-literal">s&quot;Unable to load configuration: </span><span class="substitution">${errors.messages}</span><span class="string-literal">&quot;</span><span>),
        </span><span class="identifier">identity</span><span>
      )
    }
}</span></code></pre>
    
    <h4 id="testing-configurations" class="section"><a class="anchor-link" href="#testing-configurations"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Testing Configurations</h4>
    <p>Writing your configurations in Scala means you have the flexibility to work with them as you want. You&#39;re no longer limited to what can be done with configuration files. Sharing configurations between your application and tests is also very straightforward -- simply make the configuration loading function (and the default configuration) available for the tests.</p>
    <pre><code class="nohighlight"><span class="comment">// This can now be accessed from the tests
</span><span class="keyword">val</span><span> </span><span class="identifier">defaultConfig</span><span> =
  </span><span class="type-name">Config</span><span>(
    </span><span class="identifier">apiKey</span><span> = </span><span class="string-literal">&quot;RacrqvWjuu4KVmnTG9b6xyZMTP7jnX&quot;</span><span>,
    </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
    </span><span class="identifier">port</span><span> = </span><span class="number-literal">4000</span><span>
  )

</span><span class="comment">// This can now be accessed from the tests
</span><span class="keyword">val</span><span> </span><span class="identifier">configWith</span><span> =
  (</span><span class="identifier">apiKey</span><span>: </span><span class="type-name">ApiKey</span><span>, </span><span class="identifier">port</span><span>: </span><span class="type-name">NonSystemPort</span><span>) =&gt;
    </span><span class="type-name">Config</span><span>(
      </span><span class="identifier">apiKey</span><span> = </span><span class="identifier">apiKey</span><span>,
      </span><span class="identifier">timeoutSeconds</span><span> = </span><span class="number-literal">10</span><span>,
      </span><span class="identifier">port</span><span> = </span><span class="identifier">port</span><span>
    )

</span><span class="keyword">val</span><span> </span><span class="identifier">config</span><span> =
  </span><span class="identifier">withValue</span><span>(</span><span class="identifier">env</span><span>[</span><span class="type-name">Option</span><span>[</span><span class="type-name">AppEnvironment</span><span>]](</span><span class="string-literal">&quot;APP_ENV&quot;</span><span>)) {
    </span><span class="keyword">case</span><span> </span><span class="type-name">Some</span><span>(</span><span class="type-name">AppEnvironment</span><span>.</span><span class="type-name">Local</span><span>) | </span><span class="type-name">None</span><span> =&gt;
      </span><span class="identifier">loadConfig</span><span>(</span><span class="identifier">defaultConfig</span><span>)
    </span><span class="keyword">case</span><span> </span><span class="identifier">_</span><span> =&gt;
      </span><span class="identifier">loadConfig</span><span>(
        </span><span class="identifier">env</span><span>[</span><span class="type-name">ApiKey</span><span>](</span><span class="string-literal">&quot;API_KEY&quot;</span><span>),
        </span><span class="identifier">prop</span><span>[</span><span class="type-name">NonSystemPort</span><span>](</span><span class="string-literal">&quot;http.port&quot;</span><span>)
      )(</span><span class="identifier">configWith</span><span>)
  }</span></code></pre>
    <p>If you really want to unit test the configuration loading as well, you can do so with minor rewrites. Currently, we depend on some fixed configuration sources for environment variables and system properties (technically, system properties are mutable), but if we instead pass sources (<code>ConfigSource</code>s) as arguments, we can read values from those sources using the <code>read</code> method.</p>
    <p>The <code>read</code> method normally looks for an implicit <code>ConfigSource</code> to read from, which would have been perfect if we only used a single source. But since we have multiple sources here, we instead use <code>read</code> to redefine <code>env</code> and <code>prop</code> to read from the provided sources. <code>ConfigReader[T]</code> captures the ability to convert from <code>String</code> to <code>T</code>, where the <code>String</code> value has been read from a <code>ConfigSource</code>.</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">config</span><span>(
  </span><span class="identifier">envs</span><span>: </span><span class="type-name">ConfigSource</span><span>[</span><span class="type-name">String</span><span>],
  </span><span class="identifier">props</span><span>: </span><span class="type-name">ConfigSource</span><span>[</span><span class="type-name">String</span><span>]
): </span><span class="type-name">Either</span><span>[</span><span class="type-name">ConfigErrors</span><span>, </span><span class="type-name">Config</span><span>] = {
  </span><span class="comment">// Custom env which reads from envs
</span><span>  </span><span class="keyword">def</span><span> </span><span class="declaration-name">env</span><span>[</span><span class="type-name">T</span><span>: </span><span class="type-name">ConfigReader</span><span>](</span><span class="identifier">key</span><span>: </span><span class="type-name">String</span><span>) =
    </span><span class="identifier">read</span><span>[</span><span class="type-name">T</span><span>](</span><span class="identifier">key</span><span>)(</span><span class="identifier">envs</span><span>, </span><span class="type-name">ConfigReader</span><span>[</span><span class="type-name">T</span><span>])

  </span><span class="comment">// Custom prop which reads from props
</span><span>  </span><span class="keyword">def</span><span> </span><span class="declaration-name">prop</span><span>[</span><span class="type-name">T</span><span>: </span><span class="type-name">ConfigReader</span><span>](</span><span class="identifier">key</span><span>: </span><span class="type-name">String</span><span>) =
    </span><span class="identifier">read</span><span>[</span><span class="type-name">T</span><span>](</span><span class="identifier">key</span><span>)(</span><span class="identifier">props</span><span>, </span><span class="type-name">ConfigReader</span><span>[</span><span class="type-name">T</span><span>])

  </span><span class="identifier">withValue</span><span>(</span><span class="identifier">env</span><span>[</span><span class="type-name">Option</span><span>[</span><span class="type-name">AppEnvironment</span><span>]](</span><span class="string-literal">&quot;APP_ENV&quot;</span><span>)) {
    </span><span class="keyword">case</span><span> </span><span class="type-name">Some</span><span>(</span><span class="type-name">AppEnvironment</span><span>.</span><span class="type-name">Local</span><span>) | </span><span class="type-name">None</span><span> =&gt;
      </span><span class="identifier">loadConfig</span><span>(</span><span class="identifier">defaultConfig</span><span>)
    </span><span class="keyword">case</span><span> </span><span class="identifier">_</span><span> =&gt;
      </span><span class="identifier">loadConfig</span><span>(
        </span><span class="identifier">env</span><span>[</span><span class="type-name">ApiKey</span><span>](</span><span class="string-literal">&quot;API_KEY&quot;</span><span>),
        </span><span class="identifier">prop</span><span>[</span><span class="type-name">NonSystemPort</span><span>](</span><span class="string-literal">&quot;http.port&quot;</span><span>)
      )(</span><span class="identifier">configWith</span><span>)
  }
}</span></code></pre>
    <p>We&#39;ll then define a couple of helper methods for creating <code>ConfigSource</code>s from key-value pairs. The <code>ConfigSource</code> type parameter is the type of keys the source can read, which is <code>String</code> for both environment variables and system properties. The <code>ConfigKeyType</code> is basically the name of the key that can be read, for example <code>environment variable</code>. Below we&#39;re using predefined instances in the <code>ConfigKeyType</code> companion object.</p>
    <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">envs</span><span>(</span><span class="identifier">entries</span><span>: (</span><span class="type-name">String</span><span>, </span><span class="type-name">String</span><span>)*): </span><span class="type-name">ConfigSource</span><span>[</span><span class="type-name">String</span><span>] =
  </span><span class="type-name">ConfigSource</span><span>.</span><span class="identifier">fromMap</span><span>(</span><span class="type-name">ConfigKeyType</span><span>.</span><span class="type-name">Environment</span><span>)(</span><span class="identifier">entries</span><span>.</span><span class="identifier">toMap</span><span>)

</span><span class="keyword">def</span><span> </span><span class="declaration-name">props</span><span>(</span><span class="identifier">entries</span><span>: (</span><span class="type-name">String</span><span>, </span><span class="type-name">String</span><span>)*): </span><span class="type-name">ConfigSource</span><span>[</span><span class="type-name">String</span><span>] =
  </span><span class="type-name">ConfigSource</span><span>.</span><span class="identifier">fromMap</span><span>(</span><span class="type-name">ConfigKeyType</span><span>.</span><span class="type-name">Property</span><span>)(</span><span class="identifier">entries</span><span>.</span><span class="identifier">toMap</span><span>)</span></code></pre>
    <p>We can test our <code>config</code> method using different combinations of environment variables and system properties. Note that <code>envs</code> and <code>props</code> have the same type, so if you want to avoid using them interchangeably, you can define custom wrapper types for them. We&#39;ll leave that out here for sake of simplicity. I&#39;ve found that it&#39;s not very common to read values from more than one <code>ConfigSource</code>, but as it&#39;s definitely possible, it can be worth making sure you do not mix them up.</p>
    <pre><code class="nohighlight"><span class="identifier">show</span><span> { </span><span class="identifier">config</span><span>(</span><span class="identifier">envs</span><span>(), </span><span class="identifier">props</span><span>()) }
</span><span class="comment">// Right(Config(RacrqvWjuu4KVmnTG9b6xyZMTP7jnX, 10, 4000))
</span><span>
</span><span class="identifier">show</span><span> {
  </span><span class="identifier">config</span><span>(
    </span><span class="identifier">envs</span><span>(</span><span class="string-literal">&quot;APP_ENV&quot;</span><span> -&gt; </span><span class="string-literal">&quot;Local&quot;</span><span>),
    </span><span class="identifier">props</span><span>()
  )
}
</span><span class="comment">// Right(Config(RacrqvWjuu4KVmnTG9b6xyZMTP7jnX, 10, 4000))
</span><span>
</span><span class="identifier">show</span><span> {
  </span><span class="identifier">config</span><span>(
    </span><span class="identifier">envs</span><span>(</span><span class="string-literal">&quot;APP_ENV&quot;</span><span> -&gt; </span><span class="string-literal">&quot;QA&quot;</span><span>),
    </span><span class="identifier">props</span><span>()
  ).</span><span class="identifier">left</span><span>.</span><span class="identifier">map</span><span>(</span><span class="identifier">_</span><span>.</span><span class="identifier">messages</span><span>)
}
</span><span class="comment">// Left(
//   Vector(
//     &quot;Environment variable [APP_ENV] with value [QA] cannot be converted to type [$line34.$read$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$$iw$environments$AppEnvironment]&quot;
//   )
// )
</span><span>
</span><span class="identifier">show</span><span> {
  </span><span class="identifier">config</span><span>(
    </span><span class="identifier">envs</span><span>(</span><span class="string-literal">&quot;APP_ENV&quot;</span><span> -&gt; </span><span class="string-literal">&quot;Production&quot;</span><span>),
    </span><span class="identifier">props</span><span>()
  ).</span><span class="identifier">left</span><span>.</span><span class="identifier">map</span><span>(</span><span class="identifier">_</span><span>.</span><span class="identifier">messages</span><span>)
}
</span><span class="comment">// Left(
//   Vector(
//     &quot;Missing environment variable [API_KEY]&quot;,
//     &quot;Missing system property [http.port]&quot;
//   )
// )
</span><span>
</span><span class="identifier">show</span><span> {
  </span><span class="identifier">config</span><span>(
    </span><span class="identifier">envs</span><span>(
      </span><span class="string-literal">&quot;APP_ENV&quot;</span><span> -&gt; </span><span class="string-literal">&quot;Production&quot;</span><span>,
      </span><span class="string-literal">&quot;API_KEY&quot;</span><span> -&gt; </span><span class="string-literal">&quot;changeme&quot;</span><span>
    ),
    </span><span class="identifier">props</span><span>()
  ).</span><span class="identifier">left</span><span>.</span><span class="identifier">map</span><span>(</span><span class="identifier">_</span><span>.</span><span class="identifier">messages</span><span>)
}
</span><span class="comment">// Left(
//   Vector(
//     &quot;Environment variable [API_KEY] with value [changeme] cannot be converted to type [eu.timepit.refined.api.Refined[String,eu.timepit.refined.string.MatchesRegex[java.lang.String(\&quot;[a-zA-Z0-9]{25,40}\&quot;)]]]: Predicate failed: \&quot;changeme\&quot;.matches(\&quot;[a-zA-Z0-9]{25,40}\&quot;).&quot;,
//     &quot;Missing system property [http.port]&quot;
//   )
// )
</span><span>
</span><span class="identifier">show</span><span> {
  </span><span class="identifier">config</span><span>(
    </span><span class="identifier">envs</span><span>(
      </span><span class="string-literal">&quot;APP_ENV&quot;</span><span> -&gt; </span><span class="string-literal">&quot;Production&quot;</span><span>,
      </span><span class="string-literal">&quot;API_KEY&quot;</span><span> -&gt; </span><span class="string-literal">&quot;X9aKACPtircCrrFKYhwPr7fXx8srow&quot;</span><span>
    ),
    </span><span class="identifier">props</span><span>()
  ).</span><span class="identifier">left</span><span>.</span><span class="identifier">map</span><span>(</span><span class="identifier">_</span><span>.</span><span class="identifier">messages</span><span>)
}
</span><span class="comment">// Left(Vector(&quot;Missing system property [http.port]&quot;))
</span><span>
</span><span class="identifier">show</span><span> {
  </span><span class="identifier">config</span><span>(
    </span><span class="identifier">envs</span><span>(
      </span><span class="string-literal">&quot;APP_ENV&quot;</span><span> -&gt; </span><span class="string-literal">&quot;Production&quot;</span><span>,
      </span><span class="string-literal">&quot;API_KEY&quot;</span><span> -&gt; </span><span class="string-literal">&quot;X9aKACPtircCrrFKYhwPr7fXx8srow&quot;</span><span>
    ),
    </span><span class="identifier">props</span><span>(</span><span class="string-literal">&quot;http.port&quot;</span><span> -&gt; </span><span class="string-literal">&quot;900&quot;</span><span>)
  ).</span><span class="identifier">left</span><span>.</span><span class="identifier">map</span><span>(</span><span class="identifier">_</span><span>.</span><span class="identifier">messages</span><span>)
}
</span><span class="comment">// Left(
//   Vector(
//     &quot;System property [http.port] with value [900] cannot be converted to type [eu.timepit.refined.api.Refined[Int,eu.timepit.refined.numeric.Interval.Closed[Int(1024),Int(65535)]]]: Left predicate of (!(900 &lt; 1024) &amp;&amp; !(900 &gt; 65535)) failed: Predicate (900 &lt; 1024) did not fail.&quot;
//   )
// )
</span><span>
</span><span class="identifier">show</span><span> {
  </span><span class="identifier">config</span><span>(
    </span><span class="identifier">envs</span><span>(
      </span><span class="string-literal">&quot;APP_ENV&quot;</span><span> -&gt; </span><span class="string-literal">&quot;Production&quot;</span><span>,
      </span><span class="string-literal">&quot;API_KEY&quot;</span><span> -&gt; </span><span class="string-literal">&quot;X9aKACPtircCrrFKYhwPr7fXx8srow&quot;</span><span>
    ),
    </span><span class="identifier">props</span><span>(</span><span class="string-literal">&quot;http.port&quot;</span><span> -&gt; </span><span class="string-literal">&quot;4000&quot;</span><span>)
  )
}
</span><span class="comment">// Right(Config(X9aKACPtircCrrFKYhwPr7fXx8srow, 10, 4000))</span></code></pre>
    <p>Finally, when running the application, simply provide the actual <code>ConfigSource</code>s for environment variables and system properties.</p>
    <pre><code class="nohighlight"><span class="identifier">show</span><span> { </span><span class="identifier">config</span><span>(</span><span class="type-name">ConfigSource</span><span>.</span><span class="type-name">Environment</span><span>, </span><span class="type-name">ConfigSource</span><span>.</span><span class="type-name">Properties</span><span>) }
</span><span class="comment">// Right(Config(RacrqvWjuu4KVmnTG9b6xyZMTP7jnX, 10, 4000))</span></code></pre>
    
    <h3 id="conclusion" class="section"><a class="anchor-link" href="#conclusion"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Conclusion</h3>
    <p>In this blog post, we&#39;ve seen how we can make the configuration loading process, with configuration files, less error-prone, by eliminating the boilerplate code with <a href="https://github.com/pureconfig/pureconfig">PureConfig</a>, and encoding validation with <a href="https://github.com/fthomas/refined">refined</a> -- seeing how the two libraries can work together seamlessly.</p>
    <p>We&#39;ve also identified cases where we can use Scala as a configuration language, seeing that it&#39;s particularly suitable in cases where it&#39;s easy to change and deploy software. We&#39;ve introduced the challenge of loading configuration values from the environment and seen how <a href="https://cir.is">Ciris</a> can help you with that, letting you focus on the configuration. We&#39;ve seen that Scala configurations can provide more compile-time safety and flexibility than traditional configurations with configuration files.</p>
    <p>If you&#39;re looking for more information on Ciris, the project&#39;s website (<a href="https://cir.is"><a href="https://cir.is">https://cir.is</a></a>) is a good start.<br>
    There&#39;s also a <a href="https://cir.is/docs/basics">usage guide</a> and <a href="https://cir.is/api">API documentation</a> which expands on what&#39;s been discussed here.</p>
  </div>
</div>
<div class="bulma-section bulma-container bulma-is-max-desktop">
  <div class="bulma-columns">
    
    <div class="bulma-column">
      <article class="bulma-media">
  
  <figure class="bulma-media-left">
    <p class="bulma-image bulma-is-64x64">
      <img class="bulma-is-rounded" src="https://github.com/vlovgr.png" />
    </p>
  </figure>
  
  <div class="bulma-media-content">
    <div class="bulma-content">
      <p>
        <strong>Viktor Lövgren</strong> 
        
        
        <br />
        Viktor is a Software engineer at Ovo Energy in London, working on the platform powering energy meter readings and consumption data. He’s an advocate of strongly typed functional programming, and Scala in particular, which has been his professional focus the past three years.
        
        
        
      </p>
    </div>
    <nav class="bulma-level bulma-is-align-items-start">
      <div class="bulma-level-left bulma-is-flex-direction-row">
        
        
        
        <a class="bulma-level-item" href="http://github.com/vlovgr">
          <span class="bulma-icon bulma-is-small"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
        </a>
        
        
        
        
      </div>
    </nav>
  </div>
</article>

    </div>
    
  </div>
</div>


  </main>
  <footer class="bulma-footer">
  <div class="bulma-columns">
    <div class="bulma-column bulma-is-half">
      Copyright 2026 Typelevel Foundation and <a href="https://github.com/typelevel/typelevel.github.com/graphs/contributors">contributors</a>.
      Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> unless <a href="../colophon.html#license">noted otherwise</a>.
    </div>
    <div class="bulma-column">
      <ul>
        <li><a href="../projects/">Project Index</a></li>
        <li><a href="../community/meetups.html">Meetup Calendar</a></li>
        <li><a href="../foundation/people.html">Leadership</a></li>
      </ul>
    </div>
    <div class="bulma-column">
      <ul>
        <li><a href="../code-of-conduct/">Code of Conduct</a></li>
        <li><a href="../security.html">Security Policy</a></li>
        <li><a href="../colophon.html">Colophon</a></li>
      </ul>
    </div>
  </div>
  <div class="bulma-has-text-centered">
    <div>Find us on ...</div>
    <div class="bulma-is-size-3">
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://github.com/typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://discord.gg/typelevel-632277896739946517">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1 .1s-.6 .4-.8 .8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2c-41.3 7.1-81.6 19.6-119.7 37.1-.3 .1-.6 .4-.8 .7-76.2 113.8-97.1 224.9-86.9 334.5 0 .3 .1 .5 .2 .8s.3 .4 .5 .6c44.4 32.9 94 58 146.8 74.2 .4 .1 .8 .1 1.1 0s.7-.4 .9-.7c11.3-15.4 21.4-31.8 30-48.8 .1-.2 .2-.5 .2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6 .2-.9 .3-.5 .6-.7c3.1-2.3 6.2-4.7 9.1-7.1 .3-.2 .6-.4 .9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1 .7-.2 1-.2s.7 .2 .9 .4c2.9 2.4 6 4.9 9.1 7.2 .2 .2 .4 .4 .6 .7s.2 .6 .2 .9-.1 .6-.3 .9-.4 .5-.6 .6c-14.7 8.6-30 15.9-45.9 21.8-.2 .1-.5 .2-.7 .4s-.3 .4-.4 .7-.1 .5-.1 .8 .1 .5 .2 .8c8.8 17 18.8 33.3 30 48.8 .2 .3 .6 .6 .9 .7s.8 .1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2 .2-.2 .4-.4 .5-.6s.2-.5 .2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2zm195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://bsky.app/profile/typelevel.org">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4 .4 6.7 .9 10 1.3zM288 227.1C261.9 176.4 190.9 81.9 124.9 35.3 61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3 .5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9 120.3 124.6 164.8-26.7 187.7-103.4 22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4 .4 6.7 .9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7 5.9-19.9 15-138.9 15-155.5s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8-66.1 46.6-137.1 141.1-163.2 191.8z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://fosstodon.org/@typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zM357.9 304.3l-46.6 0 0-114.2c0-49.7-64-51.6-64 6.9l0 62.5-46.3 0 0-62.5c0-58.5-64-56.6-64-6.9l0 114.2-46.7 0c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175l0 0z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://www.youtube.com/@typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M549.7 124.1C543.5 100.4 524.9 81.8 501.4 75.5 458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5C51.2 81.8 32.7 100.4 26.4 124.1 15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8 42.6 11.5 213.4 11.5 213.4 11.5s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6l0-162.4 142.7 81.2-142.7 81.2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current"
        href="https://linkedin.com/company/typelevel-foundation">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 32L31.9 32C14.3 32 0 46.5 0 64.3L0 447.7C0 465.5 14.3 480 31.9 480L416 480c17.6 0 32-14.5 32-32.3l0-383.4C448 46.5 433.6 32 416 32zM135.4 416l-66.4 0 0-213.8 66.5 0 0 213.8-.1 0zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77zM384.3 416l-66.4 0 0-104c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9l0 105.8-66.4 0 0-213.8 63.7 0 0 29.2 .9 0c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9l0 117.2z"/></svg>
      </a>
    </div>
  </div>
</footer>

</body>

</html>

