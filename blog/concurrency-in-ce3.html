<!DOCTYPE html>
<html lang="en" data-bulma-theme="light">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" href="../img/favicon.ico" sizes="32x32">
  <link rel="icon" href="../img/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="../img/apple-touch-icon.png">

  <meta property="og:title" content="Concurrency in Cats Effect 3" />
  <meta property="og:image" content="../img/logo.png" />

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">

  

  <link rel="stylesheet" href="../main.css">
  <link rel="stylesheet" href="../css/code.css">
  <script src="../main.js"></script>

  <title>Concurrency in Cats Effect 3</title>
</head>

<body class="bulma-is-flex bulma-is-flex-direction-column">
  <nav class="bulma-navbar" role="navigation" aria-label="main navigation">
  <div class="bulma-navbar-brand">
    <a class="bulma-navbar-item" href="../">
      <img src="../img/logo.svg" />
    </a>

    <a role="button" class="bulma-navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu"
      onClick="handleBurgerClick(this)">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="bulma-navbar-menu" id="navMenu">
    <div class="bulma-navbar-start">

    </div>
    <div class="bulma-navbar-end">
      <!-- <div class="bulma-navbar-item"><a class="bulma-button bulma-is-rounded bulma-is-primary bulma-has-text-light">Get Started</a></div> -->
      <!-- <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text">Learn</a></div> -->
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../projects/">Projects</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../community/">Community</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="../foundation/">Foundation</a></div>
      <div class="bulma-navbar-item"><a class="bulma-button bulma-is-text" href="index.html">Blog</a></div>
      <div class="bulma-navbar-item">
        <a id="search-top-bar" class="bulma-button bulma-is-text" aria-label="Search" onclick="showSearchModal()">
          <span class="bulma-icon bulma-is-small bulma-is-size-6">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
          </span>
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Search Modal -->
<div id="search-modal" class="bulma-modal bulma-is-justify-content-flex-start bulma-pt-6 bulma-pb-6">
  <div class="bulma-modal-background bulma-is-align-items-flex-start" onclick="hideSearchModal()"></div>
  <div class="bulma-modal-card">
    <header class="bulma-modal-card-head">
      <p class="bulma-control bulma-has-icons-left bulma-is-flex-grow-1">
        <input id="search-input" class="bulma-input bulma-is-medium bulma-is-primary" type="search" autocomplete="off" oninput="onSearchInput(event)">
        <span class="bulma-icon bulma-is-left bulma-has-text-primary">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
        </span>
      </p>
    </header>
    <section id="search-results" class="bulma-modal-card-body">
    </section>
    <footer class="bulma-modal-card-foot bulma-is-justify-content-space-between">
      <span class="bulma-has-text-grey bulma-is-size-7">
        <kbd class="bulma-tag">/</kbd> to open search &nbsp;
        <kbd class="bulma-tag">Esc</kbd> to close
      </span>
    </footer>
  </div>
</div>

  <main class="bulma-is-flex-grow-1">
    
<section class="bulma-hero bulma-is-primary bulma-is-bold">
  <div class="bulma-hero-body bulma-container bulma-is-max-desktop">
    <p class="bulma-title bulma-has-text-light">Concurrency in Cats Effect 3</p>
    <p class="blog-post-byline bulma-has-text-light bulma-subtitle">
      by
      
        Raas Ahsan<span class="delimiter">,</span><span class="last-delimiter"> &</span>
      
      on October 30, 2020
    </p>
     
      <span class="bulma-tag">technical</span>
     
  </div>
</section>
<div class="bulma-section bulma-container bulma-is-max-desktop">
  <div class="blog-post bulma-content">
    <h1 id="concurrency-in-cats-effect-3" class="title">Concurrency in Cats Effect 3</h1>
    <p>Cats Effect 3 is just around the corner! The library has seen several major 
    changes between 2.0 and 3.0, so in an effort to highlight those changes, we
    will be releasing a series of blog posts covering a range of topics. If you 
    would like to see a blog post about a particular subject, don&#39;t hesitate to 
    reach out! You can try out early Cats Effect 3 releases 
    <a href="https://github.com/typelevel/cats-effect/releases">here</a>.</p>
    
    <h3 id="introduction" class="section"><a class="anchor-link" href="#introduction"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Introduction</h3>
    <p>In this post, we offer a broad overview of the concurrency model that serves 
    as the foundation for Cats Effect and its abstractions. We discuss what fibers
    are and how to interact with them. We also talk about how to leverage the 
    concurrency model to build powerful concurrent state machines. Example programs 
    are written in terms of <code>cats.effect.IO</code>.</p>
    <p>Before going any further, let&#39;s briefly review what concurrency is, how it&#39;s
    useful, and why it&#39;s tedious to work with. </p>
    
    <h3 id="concurrency" class="section"><a class="anchor-link" href="#concurrency"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Concurrency</h3>
    <p>Concurrent programming is about designing programs in which multiple logical
    threads of control are executing at the same time. There is a bit to unpack 
    in this definition: what are logical threads and what does it mean for them to 
    execute &quot;at the same time?&quot;</p>
    <p>A logical thread is merely a description of a sequence of discrete actions. 
    An action is one of the most primitive operations that can be expressed in 
    the host language.</p>
    <p>In programs that are written in traditional high-level languages like Java or 
    C++, these logical threads are typically represented by native threads that 
    are managed by the operating system. The actions that comprise these threads 
    are native processor instructions or VM bytecode instructions. In programs that
    are written with Cats Effect, these logical threads are represented by fibers, 
    and the actions that comprise them are <code>IO</code> values.</p>
    <p>What does it mean for logical threads to execute at the same time? Because the 
    actions of a logical thread are discrete, the actions of many logical threads 
    can be interleaved into one or more streams of actions. This interleaving is 
    largely influenced by external factors such as scheduler preemption and I/O 
    operations, so it is usually nondeterministic. More specifically, in the 
    absence of synchronization, there is no guarantee that the actions of distinct 
    logical threads occur in some particular order.</p>
    <p>Another common perspective is that concurrency generates a partial order among
    all the actions of all the logical threads in a program. Actions <em>within</em> a 
    logical thread are ordered consistently with program order. Actions <em>between</em> 
    multiple logical threads are not ordered in the absence of synchronization.</p>
    
    <h4 id="concurrency-is-useful" class="section"><a class="anchor-link" href="#concurrency-is-useful"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Concurrency is useful</h4>
    <p>Concurrency is a tool for designing high-performance applications that are 
    responsive and resilient. These applications typically involve multiple 
    interactions or tasks that must happen at the same time. For example, a 
    computer game needs to listen for keyboard input, play sound effects, and run 
    game loop logic, all while rendering graphics to the screen. A multiplayer game 
    must also communicate with a network server to exchange game state information.</p>
    <p>Traditional sequential programming models quickly become inadequate when 
    applied to building these kinds of responsive programs. The computer game 
    program must perform all of the tasks described above at the same time; it 
    wouldn&#39;t be a very good game if we couldn&#39;t respond to player input while 
    playing a sound! Concurrency enables us to structure our program so that 
    each interaction is confined to its own logical thread(s), all of which 
    execute at the same time.</p>
    <p>Concurrency complements modular program design. Interactions like graphics
    rendering and network communication are largely unrelated; it would be tedious
    and messy to design a program that constantly switches between graphics and
    audio I/O operations. Instead of having one complex thread that performs 
    every interaction, we can confine each interaction to its own logical thread. 
    This allows us to think about and code each interaction independently of each 
    other while having the assurance that they occur at the same time. The 
    modularity that concurrency affords makes for programs that are much easier to 
    understand, maintain, and evolve.</p>
    
    <h4 id="concurrency-is-hard" class="section"><a class="anchor-link" href="#concurrency-is-hard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Concurrency is hard</h4>
    <p>Concurrency is notoriously cumbersome to work with. This is no surprise to any
    developer that has worked with threads and locks in any mainstream programming
    language. Once we start dealing with concurrency, we have to deal with a slew
    concerns: deadlocks, starvation, race conditions, thread leaks, thread blocking
    and so on. A bug in any one of these concerns can have devastating consequences
    in terms of correctness and performance.</p>
    <p>The most popular method for achieving concurrency in Scala is with <code>Future</code>,
    which enables the evaluation of asynchronous operations. However, it is plainly
    insufficient for those of us who practice strict functional programming. 
    Furthermore, <code>Future</code> doesn&#39;t expose first-class features like cancellation, 
    finalization, or synchronization that are crucial for building safe concurrent
    applications.</p>
    <p>Akka actors are another common way to achieve concurrency in Scala. For similar
    reasons as <code>Future</code>, they are also insufficient in strict functional 
    programming, however, one could certainly build a pure actor library on top of 
    the Cats Effect&#39;s concurrency model.</p>
    
    <h3 id="cats-effect-concurrency" class="section"><a class="anchor-link" href="#cats-effect-concurrency"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Cats Effect Concurrency</h3>
    <p>Cats Effect takes the perspective that concurrency is a necessary technique 
    for building useful applications, but existing tools for achieving concurrency 
    in Scala are tedious to work with. A goal of Cats Effect is then to provide
    library authors and application developers a concurrency model that is safe and
    simple to work with.</p>
    <p>Most users should never directly interact with the concurrency model of Cats
    Effect because it is a low-level API. This is intentional: low-level 
    concurrency constructs are inherently unsafe and effectful, so forcing users 
    to touch it would only be a burden for them. Cats Effect and other libraries 
    provide higher-level and safer abstractions that users can exploit to achieve 
    concurrency without having to understand what&#39;s happening under the hood.
    For example, http4s achieves concurrency on requests by spawning a fiber for 
    every request it receives; users need only specify the request handling code 
    that is eventually run inside the fiber.</p>
    <p>That being said, it can be tremendously helpful to learn about Cats Effect&#39;s
    internals and concurrency model to understand how our applications behave and
    how to tune them, so let&#39;s jump into it.</p>
    
    <h3 id="fibers" class="section"><a class="anchor-link" href="#fibers"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Fibers</h3>
    <p>Cats Effect chooses fibers as the foundation for its concurrency model. The 
    main benefit of fibers is that they are conceptually similar to native threads: 
    both are types of logical threads that describe a sequence of computations. 
    Unlike native threads, fibers are not associated with any system resources. 
    They coexist and are scheduled completely within the userspace process, 
    independently of the operating system. This mode of concurrency reaps major 
    benefits for users and performance:</p>
    <ol class="arabic">
      <li>Fibers are incredibly cheap in terms of memory overhead so we can create 
      hundreds of thousands of them without thrashing the process. This means that we
      also don&#39;t need to pool fibers; we just create a new one whenever we need it.</li>
      <li>Context switching between fibers is orders of magnitude faster than context
      switching between threads.</li>
      <li>Blocking a fiber doesn&#39;t necessarily block a native thread; this is called
      semantic blocking. This is particularly true for nonblocking I/O and other
      asynchronous operations.</li>
    </ol>
    <p>Concretely, a fiber is a logical thread that encapsulates the execution of an 
    <code>IO[A]</code> program, which is a sequence of <code>IO</code> effects (actions) that are bound 
    together via <code>flatMap</code>. Fibers are logical threads, so they can run 
    concurrently.</p>
    <p>The active execution of some fiber of an effect <code>IO[A]</code> is represented by the 
    type <code>FiberIO[A]</code>. The execution of a <code>FiberIO[A]</code> terminates with one of three 
    possible outcomes, which are encoded by the datatype <code>OutcomeIO[A]</code>:</p>
    <ol class="arabic">
      <li><code>Succeeded</code>: indicates success with a value of type <code>A</code></li>
      <li><code>Errored</code>: indicates failure with a value of type <code>Throwable</code></li>
      <li><code>Canceled</code>: indicates abnormal termination via cancellation</li>
    </ol>
    <p>Additionally, a fiber may never produce an outcome, in which case it is said to 
    be nonterminating.</p>
    <p>Cats Effect exposes several functions for interacting with fibers directly.
    We&#39;ll explore parts of this API in the following sections. Again, fibers are
    considered to be an unsafe and low-level feature and must be given more caution 
    than we offer in the examples. Users are encouraged to use the higher-level 
    concurrency constructs that Cats Effect provides.</p>
    
    <h4 id="starting-and-joining-fibers" class="section"><a class="anchor-link" href="#starting-and-joining-fibers"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Starting and joining fibers</h4>
    <p>The most basic action of concurrency in Cats Effect is to start or spawn a new
    fiber. This requests to the scheduler to begin the concurrent execution of a
    program <code>IO[A]</code> inside a new logical thread. The actions of the current fiber
    and the spawned fiber are interleaved in a nondeterministic fashion.</p>
    <p>After a fiber is <code>start</code>ed, it can be <code>join</code>ed which semantically blocks the
    joiner until the joinee has terminated, after which <code>join</code> will return the 
    outcome of the joinee. Let&#39;s take a look at an example.</p>
    <p>Let&#39;s take a look at an example that demonstrates spawning and joining of 
    fibers, as well as the nondeterministic interleaving of their executions.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.{</span><span class="type-name">IO</span><span>, </span><span class="type-name">IOApp</span><span>}
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">object</span><span> </span><span class="type-name">ExampleOne</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">IOApp</span><span>.</span><span class="type-name">Simple</span><span> {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">repeat</span><span>(</span><span class="identifier">letter</span><span>: </span><span class="type-name">String</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="type-name">IO</span><span>.</span><span class="identifier">print</span><span>(</span><span class="identifier">letter</span><span>).</span><span class="identifier">replicateA</span><span>(</span><span class="number-literal">100</span><span>).</span><span class="identifier">void</span><span>

  </span><span class="keyword">override</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">run</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="keyword">for</span><span> {
      </span><span class="identifier">fa</span><span> &lt;- (</span><span class="identifier">repeat</span><span>(</span><span class="string-literal">&quot;A&quot;</span><span>) *&gt; </span><span class="identifier">repeat</span><span>(</span><span class="string-literal">&quot;B&quot;</span><span>)).</span><span class="identifier">as</span><span>(</span><span class="string-literal">&quot;foo!&quot;</span><span>).</span><span class="identifier">start</span><span>
      </span><span class="identifier">fb</span><span> &lt;- (</span><span class="identifier">repeat</span><span>(</span><span class="string-literal">&quot;C&quot;</span><span>) *&gt; </span><span class="identifier">repeat</span><span>(</span><span class="string-literal">&quot;D&quot;</span><span>)).</span><span class="identifier">as</span><span>(</span><span class="string-literal">&quot;bar!&quot;</span><span>).</span><span class="identifier">start</span><span>
      </span><span class="comment">// joinWithNever is a variant of join that asserts
</span><span>      </span><span class="comment">// the fiber has an outcome of Succeeded and returns the
</span><span>      </span><span class="comment">// associated value.
</span><span>      </span><span class="identifier">ra</span><span> &lt;- </span><span class="identifier">fa</span><span>.</span><span class="identifier">joinWithNever</span><span>
      </span><span class="identifier">rb</span><span> &lt;- </span><span class="identifier">fb</span><span>.</span><span class="identifier">joinWithNever</span><span>
      </span><span class="identifier">_</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">s&quot;</span><span class="escape-sequence">\n</span><span class="string-literal">done: a says: </span><span class="substitution">$ra</span><span class="string-literal">, b says: </span><span class="substitution">$rb</span><span class="string-literal">&quot;</span><span>)
    } </span><span class="keyword">yield</span><span> ()
}</span></code></pre>
    <p>In this program, the main fiber spawns two fibers, one which prints <code>A</code> 100 
    times and <code>B</code> 100 times, and another which prints <code>C</code> 100 times and <code>D</code> 100 
    times. It then joins on both fibers, awaiting their termination. Here is one 
    possible output from an execution of the program:</p>
    <pre><code>AAAAAAAAAAAAAAAAAAAAAAACACACACACACACACACACACACACACACACACACACACACACAACACACACACACACACACACACAACACAAACACACACACACACACACACACACACACACACACACACACACACACACACACACCACACACACACACACACACACACACCCCCBBCBCBCBCBCBCBCBCBCBCBCBCBCBCBCBCBCBCBCBBBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDDBDBDBDBDBDBDBDBDDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDBDDBDBDBDBDBDBDBDDDDDDDDDDDDDDDDDDDDDD
done: a says: foo!, b says: bar!</code></pre>
    <p>We can observe that there is no consistent ordering between the effects of
    separate fibers; it is completely nondeterministic! However, the effects
    <em>within</em> a given fiber are always sequentially consistent, as dictated by 
    program order; <code>A</code> is never printed after <code>B</code>, and <code>C</code> is never printed
    after <code>D</code>. This is how <code>join</code> imposes an ordering on the execution of the 
    fibers: the main fiber will only ever print the <code>done:</code> message after the 
    two spawned fibers have completed.</p>
    <p>It is recommended to use the safer <code>IO.background</code> instead of <code>IO.start</code> for 
    spawning fibers.</p>
    
    <h4 id="canceling-fibers" class="section"><a class="anchor-link" href="#canceling-fibers"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Canceling fibers</h4>
    <p>A fiber can be canceled after its execution begins with the <code>FiberIO#cancel</code>
    function. This semantically blocks the current fiber until the target fiber 
    has finalized and terminated, and then returns. Let&#39;s take a look at an 
    example.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.{</span><span class="type-name">IO</span><span>, </span><span class="type-name">IOApp</span><span>}
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">scala</span><span>.</span><span class="identifier">concurrent</span><span>.</span><span class="identifier">duration</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">object</span><span> </span><span class="type-name">ExampleTwo</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">IOApp</span><span>.</span><span class="type-name">Simple</span><span> {
  </span><span class="keyword">override</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">run</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="keyword">for</span><span> {
      </span><span class="identifier">fiber</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">&quot;hello!&quot;</span><span>).</span><span class="identifier">foreverM</span><span>.</span><span class="identifier">start</span><span>
      </span><span class="identifier">_</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">sleep</span><span>(</span><span class="number-literal">5</span><span>.</span><span class="identifier">seconds</span><span>)
      </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">fiber</span><span>.</span><span class="identifier">cancel</span><span>
    } </span><span class="keyword">yield</span><span> ()
}</span></code></pre>
    <p>In this program, the main fiber spawns a second fiber that continuously prints
    <code>hello!</code>. After 5 seconds, the main fiber cancels the second fiber and then the
    program exits.</p>
    <p>Cats Effect&#39;s concurrency model and cancellation model interact very closely 
    with each other, however, the latter is out of scope for this post. It will be 
    discussed in detail in a future post, but in the meantime, visit the Scaladoc 
    pages for <code>MonadCancel</code> and <code>GenSpawn</code>.</p>
    
    <h4 id="racing-fibers" class="section"><a class="anchor-link" href="#racing-fibers"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Racing fibers</h4>
    <p>Cats Effect exposes several utility functions for racing <code>IO</code> actions (or their
    fibers) against eachother. Let&#39;s take a look at some of them:</p>
    <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">IO</span><span> {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">racePair</span><span>[</span><span class="type-name">A</span><span>, </span><span class="type-name">B</span><span>](</span><span class="identifier">left</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">A</span><span>], </span><span class="identifier">right</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">B</span><span>]): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Either</span><span>[(</span><span class="type-name">OutcomeIO</span><span>[</span><span class="type-name">A</span><span>], </span><span class="type-name">FiberIO</span><span>[</span><span class="type-name">B</span><span>]), (</span><span class="type-name">FiberIO</span><span>[</span><span class="type-name">A</span><span>], </span><span class="type-name">OutcomeIO</span><span>[</span><span class="type-name">B</span><span>])]]
  </span><span class="comment">// higher-level functions
</span><span>  </span><span class="keyword">def</span><span> </span><span class="declaration-name">race</span><span>[</span><span class="type-name">A</span><span>, </span><span class="type-name">B</span><span>](</span><span class="identifier">left</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">A</span><span>], </span><span class="identifier">right</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">B</span><span>]): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Either</span><span>[</span><span class="type-name">A</span><span>, </span><span class="type-name">B</span><span>]]
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">both</span><span>[</span><span class="type-name">A</span><span>, </span><span class="type-name">B</span><span>](</span><span class="identifier">left</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">A</span><span>], </span><span class="identifier">right</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">B</span><span>]): </span><span class="type-name">IO</span><span>[(</span><span class="type-name">A</span><span>, </span><span class="type-name">B</span><span>)]
}</span></code></pre>
    <p><code>racePair</code> races two fiber and returns the outcome of the winner along with a 
    <code>FiberIO</code> handle to the loser. <code>race</code> races two fibers and returns the 
    successful outcome of the winner after canceling the loser. <code>both</code> races two 
    fibers and returns the successful outcome of both (in other words, it runs both
    fibers concurrently and waits for both of them to complete).</p>
    <p><code>racePair</code> seems a bit hairy to work with, so let&#39;s try an example out with 
    <code>race</code>:</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.{</span><span class="type-name">IO</span><span>, </span><span class="type-name">IOApp</span><span>}
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">object</span><span> </span><span class="type-name">ExampleThree</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">IOApp</span><span>.</span><span class="type-name">Simple</span><span> {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">factorial</span><span>(</span><span class="identifier">n</span><span>: </span><span class="type-name">Long</span><span>): </span><span class="type-name">Long</span><span> =
    </span><span class="keyword">if</span><span> (</span><span class="identifier">n</span><span> == </span><span class="number-literal">0</span><span>) </span><span class="number-literal">1</span><span> </span><span class="keyword">else</span><span> </span><span class="identifier">n</span><span> * </span><span class="identifier">factorial</span><span>(</span><span class="identifier">n</span><span> - </span><span class="number-literal">1</span><span>)

  </span><span class="keyword">override</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">run</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="keyword">for</span><span> {
      </span><span class="identifier">res</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">race</span><span>(</span><span class="type-name">IO</span><span>(</span><span class="identifier">factorial</span><span>(</span><span class="number-literal">20</span><span>)), </span><span class="type-name">IO</span><span>(</span><span class="identifier">factorial</span><span>(</span><span class="number-literal">20</span><span>)))
      </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">res</span><span>.</span><span class="identifier">fold</span><span>(
        </span><span class="identifier">a</span><span> =&gt; </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">s&quot;Left hand side won: </span><span class="substitution">$a</span><span class="string-literal">&quot;</span><span>), 
        </span><span class="identifier">b</span><span> =&gt; </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">s&quot;Right hand side won: </span><span class="substitution">$b</span><span class="string-literal">&quot;</span><span>)
      )
    } </span><span class="keyword">yield</span><span> ()
}</span></code></pre>
    <p>In this program, we&#39;re racing two fibers, both of which calculate the 20th 
    factorial. Running this program with many iterations demonstrates that either 
    fiber can win.</p>
    
    <h3 id="communication" class="section"><a class="anchor-link" href="#communication"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Communication</h3>
    <p>We have seen how fibers can directly communicate with each other via <code>start</code>, 
    <code>join</code>, and <code>cancel</code>. These mechanisms enable bidirectional communication, 
    but only at the beginning and end of a fiber&#39;s lifetime. It&#39;s natural to ask 
    if there are other ways in which fibers can communicate, particularly during 
    their lifetime. </p>
    <p>Shared memory is an alternative means by which fibers can indirectly 
    communicate and synchronize with each other. Cats Effect exposes two primitive 
    concurrent data structures that leverage shared memory: <code>Ref</code> and <code>Deferred</code>.</p>
    
    <h4 id="ref" class="section"><a class="anchor-link" href="#ref"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a><code>Ref</code></h4>
    <p><code>Ref</code> is a concurrent data structure that represents a mutable variable. It 
    is used to hold state that can be safely accessed and modified by many
    contending fibers. Let&#39;s take a look at its basic API:</p>
    <pre><code class="nohighlight"><span class="keyword">trait</span><span> </span><span class="type-name">Ref</span><span>[</span><span class="type-name">A</span><span>] {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">get</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">A</span><span>]
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">set</span><span>(</span><span class="identifier">a</span><span>: </span><span class="type-name">A</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">update</span><span>(</span><span class="identifier">f</span><span>: </span><span class="type-name">A</span><span> =&gt; </span><span class="type-name">A</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]
}</span></code></pre>
    <p><code>get</code> reads and returns the current value of the <code>Ref</code>. <code>set</code> sets the current 
    value of the <code>Ref</code>. <code>update</code> atomically reads and sets the current value of the 
    <code>Ref</code>. Let&#39;s take a look at an example.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.{</span><span class="type-name">IO</span><span>, </span><span class="type-name">IOApp</span><span>}
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">object</span><span> </span><span class="type-name">ExampleFour</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">IOApp</span><span>.</span><span class="type-name">Simple</span><span> {
  </span><span class="keyword">override</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">run</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="keyword">for</span><span> {
      </span><span class="identifier">state</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">ref</span><span>(</span><span class="number-literal">0</span><span>)
      </span><span class="identifier">fibers</span><span> &lt;- </span><span class="identifier">state</span><span>.</span><span class="identifier">update</span><span>(</span><span class="identifier">_</span><span> + </span><span class="number-literal">1</span><span>).</span><span class="identifier">start</span><span>.</span><span class="identifier">replicateA</span><span>(</span><span class="number-literal">100</span><span>)
      </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">fibers</span><span>.</span><span class="identifier">traverse</span><span>(</span><span class="identifier">_</span><span>.</span><span class="identifier">join</span><span>).</span><span class="identifier">void</span><span>
      </span><span class="identifier">value</span><span> &lt;- </span><span class="identifier">state</span><span>.</span><span class="identifier">get</span><span>
      </span><span class="identifier">_</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">s&quot;The final value is: </span><span class="substitution">$value</span><span class="string-literal">&quot;</span><span>)
    } </span><span class="keyword">yield</span><span> ()
}</span></code></pre>
    <p>In this program, the main fiber starts 100 fibers, each of which attempts to
    concurrently update the state by atomically incrementing its value. Next, the
    main fiber joins on each spawned fiber one after the other, waiting for 
    their collective completion. Finally, after the spawned fibers are complete,
    the main fiber retrieves the final value of the state. The program should
    produce the following output:</p>
    <pre><code>The final value is: 100</code></pre>
    
    <h4 id="deferred" class="section"><a class="anchor-link" href="#deferred"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a><code>Deferred</code></h4>
    <p><code>Deferred</code> is a concurrent data structure that represents a condition variable.
    It is used to semantically block fibers until some arbitrary condition has been 
    fulfilled. Let&#39;s take a look at its basic API:</p>
    <pre><code class="nohighlight"><span class="keyword">trait</span><span> </span><span class="type-name">Deferred</span><span>[</span><span class="type-name">A</span><span>] {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">complete</span><span>(</span><span class="identifier">a</span><span>: </span><span class="type-name">A</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">get</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">A</span><span>]
}</span></code></pre>
    <p><code>get</code> blocks all calling fibers until the <code>Deferred</code> has been completed with a
    value, after which it will return that value. <code>complete</code> completes the 
    <code>Deferred</code>, unblocking all waiters. A <code>Deferred</code> can not be completed more than
    once. Let&#39;s take a look at an example.</p>
    <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.{</span><span class="type-name">IO</span><span>, </span><span class="type-name">IOApp</span><span>}
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.</span><span class="identifier">kernel</span><span>.</span><span class="type-name">Deferred</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">scala</span><span>.</span><span class="identifier">concurrent</span><span>.</span><span class="identifier">duration</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">object</span><span> </span><span class="type-name">ExampleFive</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">IOApp</span><span>.</span><span class="type-name">Simple</span><span> {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">countdown</span><span>(</span><span class="identifier">n</span><span>: </span><span class="type-name">Int</span><span>, </span><span class="identifier">pause</span><span>: </span><span class="type-name">Int</span><span>, </span><span class="identifier">waiter</span><span>: </span><span class="type-name">Deferred</span><span>[</span><span class="type-name">IO</span><span>, </span><span class="type-name">Unit</span><span>]): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] = 
    </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="identifier">n</span><span>) *&gt; </span><span class="type-name">IO</span><span>.</span><span class="identifier">defer</span><span> {
      </span><span class="keyword">if</span><span> (</span><span class="identifier">n</span><span> == </span><span class="number-literal">0</span><span>) </span><span class="type-name">IO</span><span>.</span><span class="identifier">unit</span><span>
      </span><span class="keyword">else</span><span> </span><span class="keyword">if</span><span> (</span><span class="identifier">n</span><span> == </span><span class="identifier">pause</span><span>) </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">&quot;paused...&quot;</span><span>) *&gt; </span><span class="identifier">waiter</span><span>.</span><span class="identifier">get</span><span> *&gt; </span><span class="identifier">countdown</span><span>(</span><span class="identifier">n</span><span> - </span><span class="number-literal">1</span><span>, </span><span class="identifier">pause</span><span>, </span><span class="identifier">waiter</span><span>)
      </span><span class="keyword">else</span><span> </span><span class="identifier">countdown</span><span>(</span><span class="identifier">n</span><span> - </span><span class="number-literal">1</span><span>, </span><span class="identifier">pause</span><span>, </span><span class="identifier">waiter</span><span>)
    } 

  </span><span class="keyword">override</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">run</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="keyword">for</span><span> {
      </span><span class="identifier">waiter</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">deferred</span><span>[</span><span class="type-name">Unit</span><span>]
      </span><span class="identifier">f</span><span> &lt;- </span><span class="identifier">countdown</span><span>(</span><span class="number-literal">10</span><span>, </span><span class="number-literal">5</span><span>, </span><span class="identifier">waiter</span><span>).</span><span class="identifier">start</span><span>
      </span><span class="identifier">_</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">sleep</span><span>(</span><span class="number-literal">5</span><span>.</span><span class="identifier">seconds</span><span>)
      </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">waiter</span><span>.</span><span class="identifier">complete</span><span>(())
      </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">f</span><span>.</span><span class="identifier">join</span><span>
      </span><span class="identifier">_</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">&quot;blast off!&quot;</span><span>)
    } </span><span class="keyword">yield</span><span> ()
}</span></code></pre>
    <p>In this program, the main fiber spawns a fiber that initiates a countdown. When
    the countdown reaches 5, it waits on a <code>Deferred</code> which is completed 5 seconds
    later by the main fiber. The main fiber then waits for the countdown to 
    complete before exiting. The program should produce the following output:</p>
    <pre><code>10
9
8
7
6
5
paused...
4
3
2
1
0
blast off!</code></pre>
    
    <h4 id="building-a-concurrent-state-machine" class="section"><a class="anchor-link" href="#building-a-concurrent-state-machine"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Building a concurrent state machine</h4>
    <p><code>Ref</code> and <code>Deferred</code> are often composed together to build more powerful and
    more complex concurrent data structures. Most of the concurrent data types in 
    the <code>std</code> module in Cats Effect are implemented in terms of <code>Ref</code> and/or 
    <code>Deferred</code>. Example include <code>Semaphore</code>, <code>Queue</code>, and <code>Hotswap</code>.</p>
    <p>In our next example, we create simple concurrent data structure called <code>Latch</code> 
    that is blocks a waiter until a certain number of internal latches have been 
    released. Here is the interface for <code>Latch</code>:</p>
    <pre><code class="nohighlight"><span class="keyword">trait</span><span> </span><span class="type-name">Latch</span><span> {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">release</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">await</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]
}</span></code></pre>
    <p>Next, we need to define the state machine for <code>Latch</code>. We can be in two
    possible states. The first state reflects that the <code>Latch</code> is still active
    and is waiting for more releases. We need to track how many latches are still
    remaining, as well as a <code>Deferred</code> that is used to block new waiters. The 
    second state reflects that the <code>Latch</code> has been completely released and will no
    longer block waiters.</p>
    <pre><code class="nohighlight"><span class="keyword">sealed</span><span> </span><span class="keyword">trait</span><span> </span><span class="type-name">State</span><span>
</span><span class="keyword">final</span><span> </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Awaiting</span><span>(</span><span class="identifier">latches</span><span>: </span><span class="type-name">Int</span><span>, </span><span class="identifier">waiter</span><span>: </span><span class="type-name">Deferred</span><span>[</span><span class="type-name">IO</span><span>, </span><span class="type-name">Unit</span><span>]) </span><span class="keyword">extends</span><span> </span><span class="type-name">State</span><span>
</span><span class="keyword">case</span><span> </span><span class="keyword">object</span><span> </span><span class="type-name">Done</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">State</span></code></pre>
    <p>We can implement the <code>Latch</code> interface now. We create a <code>Ref</code> that holds our 
    state machine, and then a <code>Deferred</code> that block waiters. The initial state of 
    a <code>Latch</code> is the <code>Awaiting</code> state with a user-specified number of latches 
    remaining.</p>
    <p>The <code>release</code> method atomically modifies the state based on its current value:
    if the current state is <code>Awaiting</code> and there is more than one latch remaining, 
    then subtract by one, but if there is only one latch left, then transition to 
    the <code>Done</code> state and unblock all the waiters. If the current state is <code>Done</code>, 
    then do nothing.</p>
    <p>The <code>await</code> method inspects the current state; if it is <code>Done</code>, then allow the
    current fiber to pass through, otherwise, block the current fiber with the 
    <code>waiter</code>.</p>
    <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">Latch</span><span> {
  </span><span class="keyword">def</span><span> </span><span class="declaration-name">apply</span><span>(</span><span class="identifier">latches</span><span>: </span><span class="type-name">Int</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Latch</span><span>] =
    </span><span class="keyword">for</span><span> {
      </span><span class="identifier">waiter</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">deferred</span><span>[</span><span class="type-name">Unit</span><span>]
      </span><span class="identifier">state</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">ref</span><span>[</span><span class="type-name">State</span><span>](</span><span class="type-name">Awaiting</span><span>(</span><span class="identifier">latches</span><span>, </span><span class="identifier">waiter</span><span>))
    } </span><span class="keyword">yield</span><span> </span><span class="keyword">new</span><span> </span><span class="type-name">Latch</span><span> {
      </span><span class="keyword">override</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">release</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] = 
        </span><span class="identifier">state</span><span>.</span><span class="identifier">modify</span><span> {
          </span><span class="keyword">case</span><span> </span><span class="type-name">Awaiting</span><span>(</span><span class="identifier">n</span><span>, </span><span class="identifier">waiter</span><span>) =&gt; 
            </span><span class="keyword">if</span><span> (</span><span class="identifier">n</span><span> &gt; </span><span class="number-literal">1</span><span>)
              (</span><span class="type-name">Awaiting</span><span>(</span><span class="identifier">n</span><span> - </span><span class="number-literal">1</span><span>, </span><span class="identifier">waiter</span><span>), </span><span class="type-name">IO</span><span>.</span><span class="identifier">unit</span><span>)
            </span><span class="keyword">else</span><span>
              (</span><span class="type-name">Done</span><span>, </span><span class="identifier">waiter</span><span>.</span><span class="identifier">complete</span><span>(()))
          </span><span class="keyword">case</span><span> </span><span class="type-name">Done</span><span> =&gt; (</span><span class="type-name">Done</span><span>, </span><span class="type-name">IO</span><span>.</span><span class="identifier">unit</span><span>)
        }.</span><span class="identifier">flatten</span><span>.</span><span class="identifier">void</span><span>
      </span><span class="keyword">override</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">await</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] = 
        </span><span class="identifier">state</span><span>.</span><span class="identifier">get</span><span>.</span><span class="identifier">flatMap</span><span> {
          </span><span class="keyword">case</span><span> </span><span class="type-name">Done</span><span> =&gt; </span><span class="type-name">IO</span><span>.</span><span class="identifier">unit</span><span>
          </span><span class="keyword">case</span><span> </span><span class="type-name">Awaiting</span><span>(</span><span class="identifier">_</span><span>, </span><span class="identifier">waiter</span><span>) =&gt; </span><span class="identifier">waiter</span><span>.</span><span class="identifier">get</span><span>
        }
    }
}</span></code></pre>
    <p>Finally, we can use our new concurrent data type in a runnable example:</p>
    <pre><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">ExampleSix</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">IOApp</span><span>.</span><span class="type-name">Simple</span><span> {
  </span><span class="keyword">override</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">run</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="keyword">for</span><span> {
      </span><span class="identifier">latch</span><span> &lt;- </span><span class="type-name">Latch</span><span>(</span><span class="number-literal">10</span><span>)
      </span><span class="identifier">_</span><span> &lt;- (</span><span class="number-literal">1</span><span> </span><span class="identifier">to</span><span> </span><span class="number-literal">10</span><span>).</span><span class="identifier">toList</span><span>.</span><span class="identifier">traverse</span><span> { </span><span class="identifier">idx</span><span> =&gt; 
        (</span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">s&quot;</span><span class="substitution">$idx</span><span class="string-literal"> counting down&quot;</span><span>) *&gt; </span><span class="identifier">latch</span><span>.</span><span class="identifier">release</span><span>).</span><span class="identifier">start</span><span>
      }
      </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">latch</span><span>.</span><span class="identifier">await</span><span>
      </span><span class="identifier">_</span><span> &lt;- </span><span class="type-name">IO</span><span>.</span><span class="identifier">println</span><span>(</span><span class="string-literal">&quot;Got past the latch&quot;</span><span>)
    } </span><span class="keyword">yield</span><span> ()
}</span></code></pre>
    <p>This program creates a <code>Latch</code> with 10 internal latches and spawns 10 fibers, 
    each of which releases one internal latch. The main fiber awaits against the 
    <code>Latch</code>. Once all 10 fibers have released a latch, the main fiber is unblocked 
    and can proceed. The output of the program should resemble the following:</p>
    <pre><code>1 counting down
3 counting down
6 counting down
2 counting down
8 counting down
9 counting down
10 counting down
4 counting down
5 counting down
7 counting down
Got past the latch</code></pre>
    <p>Notice how the latch serves as a form of synchronization that influences the
    ordering of effects among the fibers; the main fiber will never proceed until
    after the <code>Latch</code> is completely released.</p>
    
    <h3 id="scheduling" class="section"><a class="anchor-link" href="#scheduling"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Scheduling</h3>
    <p>We&#39;ve talked about fibers as a conceptual model with which Cats Effect
    implements concurrency. One aspect of this that we haven&#39;t addressed is: how do
    fibers actually execute? Our Scala applications ultimately run on the JVM (or a 
    JavaScript runtime if we&#39;re using Scala.js), so fibers must ultimately be 
    mapped to native threads in order for them to actually run. The scheduler is
    responsible for determining how this mapping takes place.</p>
    <p>On the JVM, Cats Effect uses an M:N scheduling model to map fibers to threads.
    In practice, this means that a large number of fibers is multiplexed onto 
    much smaller pools of native threads. A typical application will reserve a 
    fixed-size pool for CPU-bound tasks, an unbounded pool for blocking tasks,
    and several event handler pools for asynchronous tasks. Throughout its 
    lifetime, a fiber will migrate between these pools to accomplish its various
    tasks. In JavaScript runtimes, a M:1 scheduling model is employed, where all 
    active fibers are scheduled onto a single native thread for execution.</p>
    <p>Another aspect of scheduling is how context switching of fibers takes place,
    which has many implications around the fairness and throughput properties of a
    concurrent application. Like many other lightweight thread runtimes, Cats 
    Effect&#39;s default scheduler exhibits cooperative multitasking in which fibers 
    can explicitly &quot;yield&quot; back to the scheduler, allowing a waiting fiber to run. 
    The yielded fiber will be scheduled to resume execution at some later time.
    This is achieved with the <code>IO.cede</code> function. </p>
    <p>Cats Effect&#39;s default scheduler also supports autoyielding which is a form of 
    preemptive multitasking. As we mentioned earlier, logical threads are composed
    of a possibly infinite sequence of actions. Autoyielding &quot;preempts&quot; or forcibly
    yields a fiber after it runs a certain number of actions, enabling waiting 
    fibers to proceed. This is particularly important on runtimes that run with 1
    or 2 native threads; a fiber that runs forever but never <code>cede</code>s will starve
    other fibers of compute time.</p>
    
    <h3 id="parallelism" class="section"><a class="anchor-link" href="#parallelism"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Parallelism</h3>
    <p>One aspect of multithreaded programming that we have neglected to mention so 
    far is parallelism. In theory, parallelism is completely independent of 
    concurrency; parallelism is about simultaneous execution whereas concurrency 
    is about interleaved execution. </p>
    <p>Parallelism is typically achieved by exploiting multiple CPU cores or even 
    multiple, independent machines to run a set of tasks much faster than they 
    would run on a single CPU or machine. Parallelism is also not necessarily
    nondeterministic; we can run a set of deterministic tasks in parallel multiple
    times and expect to get back the same result every time. For our purposes, 
    parallelism can be paired with concurrency to speed up the execution of many 
    logical threads. This is exactly what JVMs already do: multiple native threads 
    run simultaneously, resulting in higher throughput of tasks.</p>
    <p>An obscure but crucial point here is that concurrency can be achieved without
    parallelism; this is called single-threaded concurrency. We&#39;ve already seen an 
    example of this: JavaScript runtimes run on a single compute thread, so the 
    execution of all fibers must take place on that thread as well!</p>
    
    <h3 id="exercises" class="section"><a class="anchor-link" href="#exercises"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2 86.4 0 156.5 70 156.5 156.5 0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1c-29.3 29.3-69.1 45.8-110.6 45.8-86.4 0-156.5-70-156.5-156.5 0-1.5 0-3 .1-4.5 .5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9c0 .9 0 1.8 0 2.6 0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zM275.2 173.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1L91.1 258.2c-17.3 17.3-27.1 40.9-27.1 65.4 0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2-86.4 0-156.5-70-156.5-156.5 0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9 0 1.3 0 2.6 0 3.9-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8c0-.8 0-1.5 0-2.3 0-33.7-18-63.3-44.8-79.6z"/></svg></a>Exercises</h3>
    <ol class="arabic">
      <li>Why is the low-level fiber API designated as unsafe? Hint: consider how the
      fiber API interacts with cancellation.</li>
      <li>
        Implement <code>timeout</code> in terms of <code>IO.race</code>. <code>timeout</code> runs some action for up
        to a specified duration, after which it throws an errors.
        <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">timeout</span><span>[</span><span class="type-name">A</span><span>](</span><span class="identifier">io</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">A</span><span>], </span><span class="identifier">duration</span><span>: </span><span class="type-name">FiniteDuration</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">A</span><span>]</span></code></pre>
      </li>
      <li>
        Implement <code>parTraverse</code> in terms of <code>IO.both</code>. <code>parTraverse</code> is the same as
        <code>traverse</code> except all <code>IO[B]</code> are run in parallel.
        <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">parTraverse</span><span>[</span><span class="type-name">A</span><span>](</span><span class="identifier">as</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">A</span><span>])(</span><span class="identifier">f</span><span>: </span><span class="type-name">A</span><span> =&gt; </span><span class="type-name">IO</span><span>[</span><span class="type-name">B</span><span>]): </span><span class="type-name">IO</span><span>[</span><span class="type-name">List</span><span>[</span><span class="type-name">B</span><span>]]</span></code></pre>
      </li>
      <li>
        Implement <code>Semaphore</code> in terms of <code>Ref</code> and <code>Deferred</code>.
        <pre><code class="nohighlight"><span class="keyword">trait</span><span> </span><span class="type-name">Semaphore</span><span> {
</span><span class="keyword">def</span><span> </span><span class="declaration-name">acquire</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]
</span><span class="keyword">def</span><span> </span><span class="declaration-name">release</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]
}
</span><span class="keyword">object</span><span> </span><span class="type-name">Semaphore</span><span> {
</span><span class="keyword">def</span><span> </span><span class="declaration-name">apply</span><span>(</span><span class="identifier">permits</span><span>: </span><span class="type-name">Int</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Semaphore</span><span>]
}</span></code></pre>
      </li>
      <li>
        Implement <code>Queue</code> in terms of <code>Ref</code> and <code>Deferred</code>.
        <pre><code class="nohighlight"><span class="keyword">trait</span><span> </span><span class="type-name">Queue</span><span>[</span><span class="type-name">A</span><span>] {
</span><span class="keyword">def</span><span> </span><span class="declaration-name">put</span><span>(</span><span class="identifier">a</span><span>: </span><span class="type-name">A</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]
</span><span class="keyword">def</span><span> </span><span class="declaration-name">tryPut</span><span>(</span><span class="identifier">a</span><span>: </span><span class="type-name">A</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Boolean</span><span>]
</span><span class="keyword">def</span><span> </span><span class="declaration-name">take</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">A</span><span>]
</span><span class="keyword">def</span><span> </span><span class="declaration-name">tryTake</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Option</span><span>[</span><span class="type-name">A</span><span>]]
</span><span class="keyword">def</span><span> </span><span class="declaration-name">peek</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Option</span><span>[</span><span class="type-name">A</span><span>]]
}
</span><span class="keyword">object</span><span> </span><span class="type-name">Queue</span><span> {
</span><span class="keyword">def</span><span> </span><span class="declaration-name">apply</span><span>[</span><span class="type-name">A</span><span>](</span><span class="identifier">length</span><span>: </span><span class="type-name">Int</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Queue</span><span>[</span><span class="type-name">A</span><span>]]
}</span></code></pre>
      </li>
      <li><code>Stateful</code> is a typeclass in Cats MTL that characterizes a monad&#39;s ability 
      to access and manipulate state. This is typically used in monad transformer 
      stacks in conjunction with the <code>StateT</code> transformer. Is it possible to create 
      a <code>Stateful</code> instance given a <code>Ref</code>?</li>
    </ol>
  </div>
</div>
<div class="bulma-section bulma-container bulma-is-max-desktop">
  <div class="bulma-columns">
    
    <div class="bulma-column">
      <article class="bulma-media">
  
  <figure class="bulma-media-left">
    <p class="bulma-image bulma-is-64x64">
      <img class="bulma-is-rounded" src="https://github.com/RaasAhsan.png" />
    </p>
  </figure>
  
  <div class="bulma-media-content">
    <div class="bulma-content">
      <p>
        <strong>Raas Ahsan</strong> 
        
        
        
        
      </p>
    </div>
    <nav class="bulma-level bulma-is-align-items-start">
      <div class="bulma-level-left bulma-is-flex-direction-row">
        
        
        
        <a class="bulma-level-item" href="http://github.com/RaasAhsan">
          <span class="bulma-icon bulma-is-small"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
        </a>
        
        
        
        
      </div>
    </nav>
  </div>
</article>

    </div>
    
  </div>
</div>


  </main>
  <footer class="bulma-footer">
  <div class="bulma-columns">
    <div class="bulma-column bulma-is-half">
      Copyright 2026 Typelevel Foundation and <a href="https://github.com/typelevel/typelevel.github.com/graphs/contributors">contributors</a>.
      Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> unless <a href="../colophon.html#license">noted otherwise</a>.
    </div>
    <div class="bulma-column">
      <ul>
        <li><a href="../projects/">Project Index</a></li>
        <li><a href="../community/meetups.html">Meetup Calendar</a></li>
        <li><a href="../foundation/people.html">Leadership</a></li>
      </ul>
    </div>
    <div class="bulma-column">
      <ul>
        <li><a href="../code-of-conduct/">Code of Conduct</a></li>
        <li><a href="../security.html">Security Policy</a></li>
        <li><a href="../colophon.html">Colophon</a></li>
      </ul>
    </div>
  </div>
  <div class="bulma-has-text-centered">
    <div>Find us on ...</div>
    <div class="bulma-is-size-3">
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://github.com/typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://discord.gg/typelevel-632277896739946517">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1 .1s-.6 .4-.8 .8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2c-41.3 7.1-81.6 19.6-119.7 37.1-.3 .1-.6 .4-.8 .7-76.2 113.8-97.1 224.9-86.9 334.5 0 .3 .1 .5 .2 .8s.3 .4 .5 .6c44.4 32.9 94 58 146.8 74.2 .4 .1 .8 .1 1.1 0s.7-.4 .9-.7c11.3-15.4 21.4-31.8 30-48.8 .1-.2 .2-.5 .2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6 .2-.9 .3-.5 .6-.7c3.1-2.3 6.2-4.7 9.1-7.1 .3-.2 .6-.4 .9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1 .7-.2 1-.2s.7 .2 .9 .4c2.9 2.4 6 4.9 9.1 7.2 .2 .2 .4 .4 .6 .7s.2 .6 .2 .9-.1 .6-.3 .9-.4 .5-.6 .6c-14.7 8.6-30 15.9-45.9 21.8-.2 .1-.5 .2-.7 .4s-.3 .4-.4 .7-.1 .5-.1 .8 .1 .5 .2 .8c8.8 17 18.8 33.3 30 48.8 .2 .3 .6 .6 .9 .7s.8 .1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2 .2-.2 .4-.4 .5-.6s.2-.5 .2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2zm195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://bsky.app/profile/typelevel.org">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4 .4 6.7 .9 10 1.3zM288 227.1C261.9 176.4 190.9 81.9 124.9 35.3 61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3 .5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9 120.3 124.6 164.8-26.7 187.7-103.4 22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4 .4 6.7 .9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7 5.9-19.9 15-138.9 15-155.5s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8-66.1 46.6-137.1 141.1-163.2 191.8z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://fosstodon.org/@typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zM357.9 304.3l-46.6 0 0-114.2c0-49.7-64-51.6-64 6.9l0 62.5-46.3 0 0-62.5c0-58.5-64-56.6-64-6.9l0 114.2-46.7 0c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175l0 0z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current" href="https://www.youtube.com/@typelevel">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M549.7 124.1C543.5 100.4 524.9 81.8 501.4 75.5 458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5C51.2 81.8 32.7 100.4 26.4 124.1 15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8 42.6 11.5 213.4 11.5 213.4 11.5s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6l0-162.4 142.7 81.2-142.7 81.2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current"
        href="https://linkedin.com/company/typelevel-foundation">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M416 32L31.9 32C14.3 32 0 46.5 0 64.3L0 447.7C0 465.5 14.3 480 31.9 480L416 480c17.6 0 32-14.5 32-32.3l0-383.4C448 46.5 433.6 32 416 32zM135.4 416l-66.4 0 0-213.8 66.5 0 0 213.8-.1 0zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77zM384.3 416l-66.4 0 0-104c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9l0 105.8-66.4 0 0-213.8 63.7 0 0 29.2 .9 0c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9l0 117.2z"/></svg>
      </a>
      <a class="bulma-icon bulma-is-large bulma-has-text-current"
        href="feed.rss">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc. --><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM96 136c0-13.3 10.7-24 24-24 137 0 248 111 248 248 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-200-200-200-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24 83.9 0 152 68.1 152 152 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104-13.3 0-24-10.7-24-24zm0 120a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>
      </a>
    </div>
  </div>
</footer>

</body>

</html>

